<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Demystifying inner-workings of Apache Spark"><meta name=author content="Jacek Laskowski"><link href=https://books.japila.pl/apache-spark-internals/SparkContext/ rel=canonical><link href=../SparkConf/ rel=prev><link href=../local-properties/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.12+insiders-4.34.0"><title>SparkContext - The Internals of Apache Spark</title><link rel=stylesheet href=../assets/stylesheets/main.14411569.min.css><link rel=stylesheet href=../assets/stylesheets/palette.df142b89.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-FTGMP2ZTLT"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-FTGMP2ZTLT",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-FTGMP2ZTLT",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#sparkcontext class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="The Internals of Apache Spark" class="md-header__button md-logo" aria-label="The Internals of Apache Spark" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Internals of Apache Spark </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SparkContext </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/japila-books/apache-spark-internals title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> spark-internals </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg> Apache Spark </a> </li> <li class=md-tabs__item> <a href=../features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../overview/ class="md-tabs__link md-tabs__link--active"> Internals </a> </li> <li class=md-tabs__item> <a href=../accumulators/ class=md-tabs__link> Shared Variables </a> </li> <li class=md-tabs__item> <a href=../ConsoleProgressBar/ class=md-tabs__link> Monitoring </a> </li> <li class=md-tabs__item> <a href=../tools/ class=md-tabs__link> Tools </a> </li> <li class=md-tabs__item> <a href=../rdd/ class=md-tabs__link> RDD </a> </li> <li class=md-tabs__item> <a href=../demo/ class=md-tabs__link> Demos </a> </li> <li class=md-tabs__item> <a href=../webui/ class=md-tabs__link> Web UIs </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="The Internals of Apache Spark" class="md-nav__button md-logo" aria-label="The Internals of Apache Spark" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5Z"/></svg> </a> The Internals of Apache Spark </label> <div class=md-nav__source> <a href=https://github.com/japila-books/apache-spark-internals title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> spark-internals </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../features/ class="md-nav__link "> <span class=md-ellipsis> Features </span> </a> <label class="md-nav__link " for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../configuration-properties/ class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Configuration Properties </span> </span> </a> </li> <li class=md-nav__item> <a href=../developer-api/ class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Developer API </span> </span> </a> </li> <li class=md-nav__item> <a href=../spark-logging/ class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <div class="md-nav__link md-nav__container"> <a href=../plugins/ class="md-nav__link "> <span class=md-ellipsis> Plugin Framework </span> </a> <label class="md-nav__link " for=__nav_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Plugin Framework </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../plugins/DriverPlugin/ class=md-nav__link> <span class=md-ellipsis> DriverPlugin </span> </a> </li> <li class=md-nav__item> <a href=../plugins/DriverPluginContainer/ class=md-nav__link> <span class=md-ellipsis> DriverPluginContainer </span> </a> </li> <li class=md-nav__item> <a href=../plugins/ExecutorPlugin/ class=md-nav__link> <span class=md-ellipsis> ExecutorPlugin </span> </a> </li> <li class=md-nav__item> <a href=../plugins/ExecutorPluginContainer/ class=md-nav__link> <span class=md-ellipsis> ExecutorPluginContainer </span> </a> </li> <li class=md-nav__item> <a href=../plugins/PluginContainer/ class=md-nav__link> <span class=md-ellipsis> PluginContainer </span> </a> </li> <li class=md-nav__item> <a href=../plugins/PluginContextImpl/ class=md-nav__link> <span class=md-ellipsis> PluginContextImpl </span> </a> </li> <li class=md-nav__item> <a href=../plugins/SparkPlugin/ class=md-nav__link> <span class=md-ellipsis> SparkPlugin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../push-based-shuffle/ class=md-nav__link> <span class=md-ellipsis> Push-Based Shuffle </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <div class="md-nav__link md-nav__container"> <a href=../stage-level-scheduling/ class="md-nav__link "> <span class=md-ellipsis> Stage-Level Scheduling </span> </a> <label class="md-nav__link " for=__nav_2_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Stage-Level Scheduling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../stage-level-scheduling/ExecutorResourceInfo/ class=md-nav__link> <span class=md-ellipsis> ExecutorResourceInfo </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ExecutorResourceRequest/ class=md-nav__link> <span class=md-ellipsis> ExecutorResourceRequest </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ExecutorResourceRequests/ class=md-nav__link> <span class=md-ellipsis> ExecutorResourceRequests </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ResourceAllocator/ class=md-nav__link> <span class=md-ellipsis> ResourceAllocator </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ResourceProfile/ class=md-nav__link> <span class=md-ellipsis> ResourceProfile </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ResourceProfileBuilder/ class=md-nav__link> <span class=md-ellipsis> ResourceProfileBuilder </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ResourceProfileManager/ class=md-nav__link> <span class=md-ellipsis> ResourceProfileManager </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/ResourceUtils/ class=md-nav__link> <span class=md-ellipsis> ResourceUtils </span> </a> </li> <li class=md-nav__item> <a href=../stage-level-scheduling/TaskResourceProfile/ class=md-nav__link> <span class=md-ellipsis> TaskResourceProfile </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Internals </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Internals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../SparkEnv/ class=md-nav__link> <span class=md-ellipsis> SparkEnv </span> </a> </li> <li class=md-nav__item> <a href=../SparkConf/ class=md-nav__link> <span class=md-ellipsis> SparkConf </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> SparkContext </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> SparkContext </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#creating-instance class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Creating Instance </span> </span> </a> </li> <li class=md-nav__item> <a href=#checkpoint-directory class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Checkpoint Directory </span> </span> </a> <nav class=md-nav aria-label=" Checkpoint Directory"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#getcheckpointdir class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> getCheckpointDir </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#submitting-mapstage-for-execution class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Submitting MapStage for Execution </span> </span> </a> </li> <li class=md-nav__item> <a href=#executormetricssource class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ExecutorMetricsSource </span> </span> </a> </li> <li class=md-nav__item> <a href=#services class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Services </span> </span> </a> </li> <li class=md-nav__item> <a href=#resourceprofilemanager class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ResourceProfileManager </span> </span> </a> <nav class=md-nav aria-label=" ResourceProfileManager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resourceprofilemanager_1 class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> resourceProfileManager </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#driverlogger class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> DriverLogger </span> </span> </a> </li> <li class=md-nav__item> <a href=#appstatussource class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> AppStatusSource </span> </span> </a> </li> <li class=md-nav__item> <a href=#appstatusstore class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> AppStatusStore </span> </span> </a> <nav class=md-nav aria-label=" AppStatusStore"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statusstore class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> statusStore </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sparkstatustracker class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> SparkStatusTracker </span> </span> </a> <nav class=md-nav aria-label=" SparkStatusTracker"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statustracker class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> statusTracker </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-properties class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span><span><span> Local Properties </span> </span> </a> </li> <li class=md-nav__item> <a href=#shuffledrivercomponents class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ShuffleDriverComponents </span> </span> </a> </li> <li class=md-nav__item> <a href=#static-files class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Static Files </span> </span> </a> <nav class=md-nav aria-label="Static Files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#addfile class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> addFile </span> </span> </a> </li> <li class=md-nav__item> <a href=#listfiles class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> listFiles </span> </span> </a> </li> <li class=md-nav__item> <a href=#addedfiles-internal-registry class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> addedFiles Internal Registry </span> </span> </a> </li> <li class=md-nav__item> <a href=#files class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> files </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#posting-sparklistenerenvironmentupdate-event class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Posting SparkListenerEnvironmentUpdate Event </span> </span> </a> </li> <li class=md-nav__item> <a href=#getorcreate-utility class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> getOrCreate Utility </span> </span> </a> </li> <li class=md-nav__item> <a href=#plugincontainer class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> PluginContainer </span> </span> </a> </li> <li class=md-nav__item> <a href=#creating-schedulerbackend-and-taskscheduler class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Creating SchedulerBackend and TaskScheduler </span> </span> </a> </li> <li class=md-nav__item> <a href=#loading-externalclustermanager class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Loading ExternalClusterManager </span> </span> </a> </li> <li class=md-nav__item> <a href=#running-job-synchronously class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Running Job Synchronously </span> </span> </a> <nav class=md-nav aria-label=" Running Job Synchronously"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#demo class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Demo </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#call-site class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Call Site </span> </span> </a> </li> <li class=md-nav__item> <a href=#closure-cleaning class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Closure Cleaning </span> </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Logging </span> </span> </a> </li> <li class=md-nav__item> <a href=#to-be-reviewed class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> To Be Reviewed </span> </span> </a> <nav class=md-nav aria-label="To Be Reviewed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#removing-rdd-blocks-from-blockmanagermaster class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Removing RDD Blocks from BlockManagerMaster </span> </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../local-properties/ class=md-nav__link> <span class=md-ellipsis> Local Properties </span> </a> </li> <li class=md-nav__item> <a href=../SparkContext-creating-instance-internals/ class=md-nav__link> <span class=md-ellipsis> Inside Creating SparkContext </span> </a> </li> <li class=md-nav__item> <a href=../SparkFiles/ class=md-nav__link> <span class=md-ellipsis> SparkFiles </span> </a> </li> <li class=md-nav__item> <a href=../spark-properties/ class=md-nav__link> <span class=md-ellipsis> Spark Properties </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <div class="md-nav__link md-nav__container"> <a href=../executor/ class="md-nav__link "> <span class=md-ellipsis> Executor </span> </a> <label class="md-nav__link " for=__nav_3_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Executor </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../executor/CoarseGrainedExecutorBackend/ class=md-nav__link> <span class=md-ellipsis> CoarseGrainedExecutorBackend </span> </a> </li> <li class=md-nav__item> <a href=../executor/Executor/ class=md-nav__link> <span class=md-ellipsis> Executor </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorBackend/ class=md-nav__link> <span class=md-ellipsis> ExecutorBackend </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorLogUrlHandler/ class=md-nav__link> <span class=md-ellipsis> ExecutorLogUrlHandler </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorMetrics/ class=md-nav__link> <span class=md-ellipsis> ExecutorMetrics </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorMetricsPoller/ class=md-nav__link> <span class=md-ellipsis> ExecutorMetricsPoller </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorMetricsSource/ class=md-nav__link> <span class=md-ellipsis> ExecutorMetricsSource </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorMetricType/ class=md-nav__link> <span class=md-ellipsis> ExecutorMetricType </span> </a> </li> <li class=md-nav__item> <a href=../executor/ExecutorSource/ class=md-nav__link> <span class=md-ellipsis> ExecutorSource </span> </a> </li> <li class=md-nav__item> <a href=../executor/ShuffleReadMetrics/ class=md-nav__link> <span class=md-ellipsis> ShuffleReadMetrics </span> </a> </li> <li class=md-nav__item> <a href=../executor/ShuffleWriteMetrics/ class=md-nav__link> <span class=md-ellipsis> ShuffleWriteMetrics </span> </a> </li> <li class=md-nav__item> <a href=../executor/TaskMetrics/ class=md-nav__link> <span class=md-ellipsis> TaskMetrics </span> </a> </li> <li class=md-nav__item> <a href=../executor/TaskRunner/ class=md-nav__link> <span class=md-ellipsis> TaskRunner </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_10> <div class="md-nav__link md-nav__container"> <a href=../external-shuffle-service/ class="md-nav__link "> <span class=md-ellipsis> External Shuffle Service </span> </a> <label class="md-nav__link " for=__nav_3_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_10_label aria-expanded=false> <label class=md-nav__title for=__nav_3_10> <span class="md-nav__icon md-icon"></span> External Shuffle Service </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../external-shuffle-service/configuration-properties/ class=md-nav__link> <span class=md-ellipsis> Configuration Properties </span> </a> </li> <li class=md-nav__item> <a href=../external-shuffle-service/ExternalShuffleService/ class=md-nav__link> <span class=md-ellipsis> ExternalShuffleService </span> </a> </li> <li class=md-nav__item> <a href=../external-shuffle-service/ExternalBlockHandler/ class=md-nav__link> <span class=md-ellipsis> ExternalBlockHandler </span> </a> </li> <li class=md-nav__item> <a href=../external-shuffle-service/ExternalShuffleBlockResolver/ class=md-nav__link> <span class=md-ellipsis> ExternalShuffleBlockResolver </span> </a> </li> <li class=md-nav__item> <a href=../external-shuffle-service/ExecutorShuffleInfo/ class=md-nav__link> <span class=md-ellipsis> ExecutorShuffleInfo </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_11> <label class=md-nav__link for=__nav_3_11 id=__nav_3_11_label tabindex=0> <span class=md-ellipsis> MapOutputTracker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_11_label aria-expanded=false> <label class=md-nav__title for=__nav_3_11> <span class="md-nav__icon md-icon"></span> MapOutputTracker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../scheduler/MapOutputStatistics/ class=md-nav__link> <span class=md-ellipsis> MapOutputStatistics </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/MapOutputTracker/ class=md-nav__link> <span class=md-ellipsis> MapOutputTracker </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/MapOutputTrackerMaster/ class=md-nav__link> <span class=md-ellipsis> MapOutputTrackerMaster </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/MapOutputTrackerMasterEndpoint/ class=md-nav__link> <span class=md-ellipsis> MapOutputTrackerMasterEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/MapOutputTrackerWorker/ class=md-nav__link> <span class=md-ellipsis> MapOutputTrackerWorker </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ShuffleStatus/ class=md-nav__link> <span class=md-ellipsis> ShuffleStatus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_12> <div class="md-nav__link md-nav__container"> <a href=../shuffle/ class="md-nav__link "> <span class=md-ellipsis> Shuffle System </span> </a> <label class="md-nav__link " for=__nav_3_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_12_label aria-expanded=false> <label class=md-nav__title for=__nav_3_12> <span class="md-nav__icon md-icon"></span> Shuffle System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../shuffle/BaseShuffleHandle/ class=md-nav__link> <span class=md-ellipsis> BaseShuffleHandle </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/BlockStoreShuffleReader/ class=md-nav__link> <span class=md-ellipsis> BlockStoreShuffleReader </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/BypassMergeSortShuffleHandle/ class=md-nav__link> <span class=md-ellipsis> BypassMergeSortShuffleHandle </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/BypassMergeSortShuffleWriter/ class=md-nav__link> <span class=md-ellipsis> BypassMergeSortShuffleWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/DownloadFileManager/ class=md-nav__link> <span class=md-ellipsis> DownloadFileManager </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/FetchFailedException/ class=md-nav__link> <span class=md-ellipsis> FetchFailedException </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/IndexShuffleBlockResolver/ class=md-nav__link> <span class=md-ellipsis> IndexShuffleBlockResolver </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/MigratableResolver/ class=md-nav__link> <span class=md-ellipsis> MigratableResolver </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/SerializedShuffleHandle/ class=md-nav__link> <span class=md-ellipsis> SerializedShuffleHandle </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleBlockPusher/ class=md-nav__link> <span class=md-ellipsis> ShuffleBlockPusher </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleBlockResolver/ class=md-nav__link> <span class=md-ellipsis> ShuffleBlockResolver </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleExternalSorter/ class=md-nav__link> <span class=md-ellipsis> ShuffleExternalSorter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleHandle/ class=md-nav__link> <span class=md-ellipsis> ShuffleHandle </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleInMemorySorter/ class=md-nav__link> <span class=md-ellipsis> ShuffleInMemorySorter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleManager/ class=md-nav__link> <span class=md-ellipsis> ShuffleManager </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleReader/ class=md-nav__link> <span class=md-ellipsis> ShuffleReader </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleWriteMetricsReporter/ class=md-nav__link> <span class=md-ellipsis> ShuffleWriteMetricsReporter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleWriteProcessor/ class=md-nav__link> <span class=md-ellipsis> ShuffleWriteProcessor </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleWriter/ class=md-nav__link> <span class=md-ellipsis> ShuffleWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/SortShuffleManager/ class=md-nav__link> <span class=md-ellipsis> SortShuffleManager </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/SortShuffleWriter/ class=md-nav__link> <span class=md-ellipsis> SortShuffleWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/UnsafeShuffleWriter/ class=md-nav__link> <span class=md-ellipsis> UnsafeShuffleWriter </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_12_24> <label class=md-nav__link for=__nav_3_12_24 id=__nav_3_12_24_label tabindex=0> <span class=md-ellipsis> Spillable Collections </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_12_24_label aria-expanded=false> <label class=md-nav__title for=__nav_3_12_24> <span class="md-nav__icon md-icon"></span> Spillable Collections </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../shuffle/Spillable/ class=md-nav__link> <span class=md-ellipsis> Spillable </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ExternalAppendOnlyMap/ class=md-nav__link> <span class=md-ellipsis> ExternalAppendOnlyMap </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ExternalSorter/ class=md-nav__link> <span class=md-ellipsis> ExternalSorter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_12_25> <label class=md-nav__link for=__nav_3_12_25 id=__nav_3_12_25_label tabindex=0> <span class=md-ellipsis> ShuffleDataIOs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_12_25_label aria-expanded=false> <label class=md-nav__title for=__nav_3_12_25> <span class="md-nav__icon md-icon"></span> ShuffleDataIOs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../shuffle/ShuffleDataIO/ class=md-nav__link> <span class=md-ellipsis> ShuffleDataIO </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/LocalDiskShuffleDataIO/ class=md-nav__link> <span class=md-ellipsis> LocalDiskShuffleDataIO </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleDriverComponents/ class=md-nav__link> <span class=md-ellipsis> ShuffleDriverComponents </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleExecutorComponents/ class=md-nav__link> <span class=md-ellipsis> ShuffleExecutorComponents </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleMapOutputWriter/ class=md-nav__link> <span class=md-ellipsis> ShuffleMapOutputWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/LocalDiskShuffleMapOutputWriter/ class=md-nav__link> <span class=md-ellipsis> LocalDiskShuffleMapOutputWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ExecutorDiskUtils/ class=md-nav__link> <span class=md-ellipsis> ExecutorDiskUtils </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/SingleSpillShuffleMapOutputWriter/ class=md-nav__link> <span class=md-ellipsis> SingleSpillShuffleMapOutputWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/LocalDiskShuffleExecutorComponents/ class=md-nav__link> <span class=md-ellipsis> LocalDiskShuffleExecutorComponents </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/LocalDiskSingleSpillMapOutputWriter/ class=md-nav__link> <span class=md-ellipsis> LocalDiskSingleSpillMapOutputWriter </span> </a> </li> <li class=md-nav__item> <a href=../shuffle/ShuffleDataIOUtils/ class=md-nav__link> <span class=md-ellipsis> ShuffleDataIOUtils </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_13> <div class="md-nav__link md-nav__container"> <a href=../dynamic-allocation/ class="md-nav__link "> <span class=md-ellipsis> Dynamic Resource Allocation </span> </a> <label class="md-nav__link " for=__nav_3_13> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_13_label aria-expanded=false> <label class=md-nav__title for=__nav_3_13> <span class="md-nav__icon md-icon"></span> Dynamic Resource Allocation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dynamic-allocation/configuration-properties/ class=md-nav__link> <span class=md-ellipsis> Configuration Properties </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/ExecutorAllocationManager/ class=md-nav__link> <span class=md-ellipsis> ExecutorAllocationManager </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/ExecutorMonitor/ class=md-nav__link> <span class=md-ellipsis> ExecutorMonitor </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/Tracker/ class=md-nav__link> <span class=md-ellipsis> Tracker </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/ExecutorAllocationClient/ class=md-nav__link> <span class=md-ellipsis> ExecutorAllocationClient </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/ExecutorAllocationManagerSource/ class=md-nav__link> <span class=md-ellipsis> ExecutorAllocationManagerSource </span> </a> </li> <li class=md-nav__item> <a href=../dynamic-allocation/ExecutorAllocationListener/ class=md-nav__link> <span class=md-ellipsis> ExecutorAllocationListener </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_14> <label class=md-nav__link for=__nav_3_14 id=__nav_3_14_label tabindex=0> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_14_label aria-expanded=false> <label class=md-nav__title for=__nav_3_14> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../core/ContextCleaner/ class=md-nav__link> <span class=md-ellipsis> ContextCleaner </span> </a> </li> <li class=md-nav__item> <a href=../core/CleanerListener/ class=md-nav__link> <span class=md-ellipsis> CleanerListener </span> </a> </li> <li class=md-nav__item> <a href=../core/BlockFetchingListener/ class=md-nav__link> <span class=md-ellipsis> BlockFetchingListener </span> </a> </li> <li class=md-nav__item> <a href=../core/RetryingBlockFetcher/ class=md-nav__link> <span class=md-ellipsis> RetryingBlockFetcher </span> </a> </li> <li class=md-nav__item> <a href=../core/BlockFetchStarter/ class=md-nav__link> <span class=md-ellipsis> BlockFetchStarter </span> </a> </li> <li class=md-nav__item> <a href=../core/KVStore/ class=md-nav__link> <span class=md-ellipsis> KVStore </span> </a> </li> <li class=md-nav__item> <a href=../core/InMemoryStore/ class=md-nav__link> <span class=md-ellipsis> InMemoryStore </span> </a> </li> <li class=md-nav__item> <a href=../core/LevelDB/ class=md-nav__link> <span class=md-ellipsis> LevelDB </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../OutputCommitCoordinator/ class=md-nav__link> <span class=md-ellipsis> OutputCommitCoordinator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_16> <div class="md-nav__link md-nav__container"> <a href=../scheduler/ class="md-nav__link "> <span class=md-ellipsis> Scheduler </span> </a> <label class="md-nav__link " for=__nav_3_16> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_16_label aria-expanded=false> <label class=md-nav__title for=__nav_3_16> <span class="md-nav__icon md-icon"></span> Scheduler </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../scheduler/ActiveJob/ class=md-nav__link> <span class=md-ellipsis> ActiveJob </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/BarrierTaskContext/ class=md-nav__link> <span class=md-ellipsis> BarrierTaskContext </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/BlacklistTracker/ class=md-nav__link> <span class=md-ellipsis> BlacklistTracker </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/CoarseGrainedSchedulerBackend/ class=md-nav__link> <span class=md-ellipsis> CoarseGrainedSchedulerBackend </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/DAGScheduler/ class=md-nav__link> <span class=md-ellipsis> DAGScheduler </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/DAGSchedulerEvent/ class=md-nav__link> <span class=md-ellipsis> DAGSchedulerEvent </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/DAGSchedulerEventProcessLoop/ class=md-nav__link> <span class=md-ellipsis> DAGSchedulerEventProcessLoop </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/DAGSchedulerSource/ class=md-nav__link> <span class=md-ellipsis> DAGSchedulerSource </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/DriverEndpoint/ class=md-nav__link> <span class=md-ellipsis> DriverEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ExecutorData/ class=md-nav__link> <span class=md-ellipsis> ExecutorData </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ExternalClusterManager/ class=md-nav__link> <span class=md-ellipsis> ExternalClusterManager </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/FairSchedulableBuilder/ class=md-nav__link> <span class=md-ellipsis> FairSchedulableBuilder </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/FIFOSchedulableBuilder/ class=md-nav__link> <span class=md-ellipsis> FIFOSchedulableBuilder </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/JobListener/ class=md-nav__link> <span class=md-ellipsis> JobListener </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/JobWaiter/ class=md-nav__link> <span class=md-ellipsis> JobWaiter </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/LiveListenerBus/ class=md-nav__link> <span class=md-ellipsis> LiveListenerBus </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_16_18> <label class=md-nav__link for=__nav_3_16_18 id=__nav_3_16_18_label tabindex=0> <span class=md-ellipsis> MapStatuses </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_16_18_label aria-expanded=false> <label class=md-nav__title for=__nav_3_16_18> <span class="md-nav__icon md-icon"></span> MapStatuses </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../scheduler/MapStatus/ class=md-nav__link> <span class=md-ellipsis> MapStatus </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/CompressedMapStatus/ class=md-nav__link> <span class=md-ellipsis> CompressedMapStatus </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/HighlyCompressedMapStatus/ class=md-nav__link> <span class=md-ellipsis> HighlyCompressedMapStatus </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../scheduler/Pool/ class=md-nav__link> <span class=md-ellipsis> Pool </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ResultStage/ class=md-nav__link> <span class=md-ellipsis> ResultStage </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ResultTask/ class=md-nav__link> <span class=md-ellipsis> ResultTask </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/Schedulable/ class=md-nav__link> <span class=md-ellipsis> Schedulable </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/SchedulableBuilder/ class=md-nav__link> <span class=md-ellipsis> SchedulableBuilder </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/SchedulerBackend/ class=md-nav__link> <span class=md-ellipsis> SchedulerBackend </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/SchedulerBackendUtils/ class=md-nav__link> <span class=md-ellipsis> SchedulerBackendUtils </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/SchedulingMode/ class=md-nav__link> <span class=md-ellipsis> SchedulingMode </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ShuffleMapStage/ class=md-nav__link> <span class=md-ellipsis> ShuffleMapStage </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/ShuffleMapTask/ class=md-nav__link> <span class=md-ellipsis> ShuffleMapTask </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/Stage/ class=md-nav__link> <span class=md-ellipsis> Stage </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/StageInfo/ class=md-nav__link> <span class=md-ellipsis> StageInfo </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskScheduler/ class=md-nav__link> <span class=md-ellipsis> TaskScheduler </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskSchedulerImpl/ class=md-nav__link> <span class=md-ellipsis> TaskSchedulerImpl </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/Task/ class=md-nav__link> <span class=md-ellipsis> Task </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskContext/ class=md-nav__link> <span class=md-ellipsis> TaskContext </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskContextImpl/ class=md-nav__link> <span class=md-ellipsis> TaskContextImpl </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskDescription/ class=md-nav__link> <span class=md-ellipsis> TaskDescription </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskInfo/ class=md-nav__link> <span class=md-ellipsis> TaskInfo </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskLocation/ class=md-nav__link> <span class=md-ellipsis> TaskLocation </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskResult/ class=md-nav__link> <span class=md-ellipsis> TaskResult </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskResultGetter/ class=md-nav__link> <span class=md-ellipsis> TaskResultGetter </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskSet/ class=md-nav__link> <span class=md-ellipsis> TaskSet </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskSetBlacklist/ class=md-nav__link> <span class=md-ellipsis> TaskSetBlacklist </span> </a> </li> <li class=md-nav__item> <a href=../scheduler/TaskSetManager/ class=md-nav__link> <span class=md-ellipsis> TaskSetManager </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_17> <div class="md-nav__link md-nav__container"> <a href=../rpc/ class="md-nav__link "> <span class=md-ellipsis> RPC </span> </a> <label class="md-nav__link " for=__nav_3_17> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_17_label aria-expanded=false> <label class=md-nav__title for=__nav_3_17> <span class="md-nav__icon md-icon"></span> RPC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../rpc/RpcEnv/ class=md-nav__link> <span class=md-ellipsis> RpcEnv </span> </a> </li> <li class=md-nav__item> <a href=../rpc/NettyRpcEnv/ class=md-nav__link> <span class=md-ellipsis> NettyRpcEnv </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEnvConfig/ class=md-nav__link> <span class=md-ellipsis> RpcEnvConfig </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEndpoint/ class=md-nav__link> <span class=md-ellipsis> RpcEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEndpointRef/ class=md-nav__link> <span class=md-ellipsis> RpcEndpointRef </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcAddress/ class=md-nav__link> <span class=md-ellipsis> RpcAddress </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEndpointAddress/ class=md-nav__link> <span class=md-ellipsis> RpcEndpointAddress </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEnvFactory/ class=md-nav__link> <span class=md-ellipsis> RpcEnvFactory </span> </a> </li> <li class=md-nav__item> <a href=../rpc/NettyRpcEnvFactory/ class=md-nav__link> <span class=md-ellipsis> NettyRpcEnvFactory </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcEnvFileServer/ class=md-nav__link> <span class=md-ellipsis> RpcEnvFileServer </span> </a> </li> <li class=md-nav__item> <a href=../rpc/spark-rpc-netty/ class=md-nav__link> <span class=md-ellipsis> spark-rpc-netty </span> </a> </li> <li class=md-nav__item> <a href=../rpc/RpcUtils/ class=md-nav__link> <span class=md-ellipsis> RpcUtils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_18> <div class="md-nav__link md-nav__container"> <a href=../memory/ class="md-nav__link "> <span class=md-ellipsis> Memory </span> </a> <label class="md-nav__link " for=__nav_3_18> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_18_label aria-expanded=false> <label class=md-nav__title for=__nav_3_18> <span class="md-nav__icon md-icon"></span> Memory </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../memory/ExecutionMemoryPool/ class=md-nav__link> <span class=md-ellipsis> ExecutionMemoryPool </span> </a> </li> <li class=md-nav__item> <a href=../memory/MemoryAllocator/ class=md-nav__link> <span class=md-ellipsis> MemoryAllocator </span> </a> </li> <li class=md-nav__item> <a href=../memory/MemoryConsumer/ class=md-nav__link> <span class=md-ellipsis> MemoryConsumer </span> </a> </li> <li class=md-nav__item> <a href=../memory/MemoryManager/ class=md-nav__link> <span class=md-ellipsis> MemoryManager </span> </a> </li> <li class=md-nav__item> <a href=../memory/MemoryPool/ class=md-nav__link> <span class=md-ellipsis> MemoryPool </span> </a> </li> <li class=md-nav__item> <a href=../memory/StorageMemoryPool/ class=md-nav__link> <span class=md-ellipsis> StorageMemoryPool </span> </a> </li> <li class=md-nav__item> <a href=../memory/TaskMemoryManager/ class=md-nav__link> <span class=md-ellipsis> TaskMemoryManager </span> </a> </li> <li class=md-nav__item> <a href=../memory/UnifiedMemoryManager/ class=md-nav__link> <span class=md-ellipsis> UnifiedMemoryManager </span> </a> </li> <li class=md-nav__item> <a href=../memory/UnsafeExternalSorter/ class=md-nav__link> <span class=md-ellipsis> UnsafeExternalSorter </span> </a> </li> <li class=md-nav__item> <a href=../memory/UnsafeInMemorySorter/ class=md-nav__link> <span class=md-ellipsis> UnsafeInMemorySorter </span> </a> </li> <li class=md-nav__item> <a href=../memory/UnsafeSorterSpillReader/ class=md-nav__link> <span class=md-ellipsis> UnsafeSorterSpillReader </span> </a> </li> <li class=md-nav__item> <a href=../memory/UnsafeSorterSpillWriter/ class=md-nav__link> <span class=md-ellipsis> UnsafeSorterSpillWriter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_19> <div class="md-nav__link md-nav__container"> <a href=../storage/ class="md-nav__link "> <span class=md-ellipsis> Storage </span> </a> <label class="md-nav__link " for=__nav_3_19> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_19_label aria-expanded=false> <label class=md-nav__title for=__nav_3_19> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../storage/BlockData/ class=md-nav__link> <span class=md-ellipsis> BlockData </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockDataManager/ class=md-nav__link> <span class=md-ellipsis> BlockDataManager </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockEvictionHandler/ class=md-nav__link> <span class=md-ellipsis> BlockEvictionHandler </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockId/ class=md-nav__link> <span class=md-ellipsis> BlockId </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockInfo/ class=md-nav__link> <span class=md-ellipsis> BlockInfo </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockInfoManager/ class=md-nav__link> <span class=md-ellipsis> BlockInfoManager </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManager/ class=md-nav__link> <span class=md-ellipsis> BlockManager </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerDecommissioner/ class=md-nav__link> <span class=md-ellipsis> BlockManagerDecommissioner </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerStorageEndpoint/ class=md-nav__link> <span class=md-ellipsis> BlockManagerStorageEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerId/ class=md-nav__link> <span class=md-ellipsis> BlockManagerId </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerInfo/ class=md-nav__link> <span class=md-ellipsis> BlockManagerInfo </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerMaster/ class=md-nav__link> <span class=md-ellipsis> BlockManagerMaster </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerMasterEndpoint/ class=md-nav__link> <span class=md-ellipsis> BlockManagerMasterEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerMasterHeartbeatEndpoint/ class=md-nav__link> <span class=md-ellipsis> BlockManagerMasterHeartbeatEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerSlaveEndpoint/ class=md-nav__link> <span class=md-ellipsis> BlockManagerSlaveEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockManagerSource/ class=md-nav__link> <span class=md-ellipsis> BlockManagerSource </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockReplicationPolicy/ class=md-nav__link> <span class=md-ellipsis> BlockReplicationPolicy </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockStoreClient/ class=md-nav__link> <span class=md-ellipsis> BlockStoreClient </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockStoreUpdater/ class=md-nav__link> <span class=md-ellipsis> BlockStoreUpdater </span> </a> </li> <li class=md-nav__item> <a href=../storage/BlockTransferService/ class=md-nav__link> <span class=md-ellipsis> BlockTransferService </span> </a> </li> <li class=md-nav__item> <a href=../storage/ByteBufferBlockStoreUpdater/ class=md-nav__link> <span class=md-ellipsis> ByteBufferBlockStoreUpdater </span> </a> </li> <li class=md-nav__item> <a href=../storage/DiskBlockObjectWriter/ class=md-nav__link> <span class=md-ellipsis> DiskBlockObjectWriter </span> </a> </li> <li class=md-nav__item> <a href=../storage/DiskStore/ class=md-nav__link> <span class=md-ellipsis> DiskStore </span> </a> </li> <li class=md-nav__item> <a href=../storage/DiskBlockManager/ class=md-nav__link> <span class=md-ellipsis> DiskBlockManager </span> </a> </li> <li class=md-nav__item> <a href=../storage/ExternalBlockStoreClient/ class=md-nav__link> <span class=md-ellipsis> ExternalBlockStoreClient </span> </a> </li> <li class=md-nav__item> <a href=../storage/FallbackStorage/ class=md-nav__link> <span class=md-ellipsis> FallbackStorage </span> </a> </li> <li class=md-nav__item> <a href=../storage/MemoryStore/ class=md-nav__link> <span class=md-ellipsis> MemoryStore </span> </a> </li> <li class=md-nav__item> <a href=../storage/ShuffleMetricsSource/ class=md-nav__link> <span class=md-ellipsis> ShuffleMetricsSource </span> </a> </li> <li class=md-nav__item> <a href=../storage/NettyBlockTransferService/ class=md-nav__link> <span class=md-ellipsis> NettyBlockTransferService </span> </a> </li> <li class=md-nav__item> <a href=../storage/NettyBlockRpcServer/ class=md-nav__link> <span class=md-ellipsis> NettyBlockRpcServer </span> </a> </li> <li class=md-nav__item> <a href=../storage/OneForOneBlockFetcher/ class=md-nav__link> <span class=md-ellipsis> OneForOneBlockFetcher </span> </a> </li> <li class=md-nav__item> <a href=../storage/RandomBlockReplicationPolicy/ class=md-nav__link> <span class=md-ellipsis> RandomBlockReplicationPolicy </span> </a> </li> <li class=md-nav__item> <a href=../storage/RDDInfo/ class=md-nav__link> <span class=md-ellipsis> RDDInfo </span> </a> </li> <li class=md-nav__item> <a href=../storage/ShuffleBlockFetcherIterator/ class=md-nav__link> <span class=md-ellipsis> ShuffleBlockFetcherIterator </span> </a> </li> <li class=md-nav__item> <a href=../storage/ShuffleFetchCompletionListener/ class=md-nav__link> <span class=md-ellipsis> ShuffleFetchCompletionListener </span> </a> </li> <li class=md-nav__item> <a href=../storage/ShuffleMigrationRunnable/ class=md-nav__link> <span class=md-ellipsis> ShuffleMigrationRunnable </span> </a> </li> <li class=md-nav__item> <a href=../storage/StorageLevel/ class=md-nav__link> <span class=md-ellipsis> StorageLevel </span> </a> </li> <li class=md-nav__item> <a href=../storage/StorageStatus/ class=md-nav__link> <span class=md-ellipsis> StorageStatus </span> </a> </li> <li class=md-nav__item> <a href=../storage/StorageUtils/ class=md-nav__link> <span class=md-ellipsis> StorageUtils </span> </a> </li> <li class=md-nav__item> <a href=../storage/TempFileBasedBlockStoreUpdater/ class=md-nav__link> <span class=md-ellipsis> TempFileBasedBlockStoreUpdater </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_20> <div class="md-nav__link md-nav__container"> <a href=../serializer/ class="md-nav__link "> <span class=md-ellipsis> Serialization </span> </a> <label class="md-nav__link " for=__nav_3_20> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_20_label aria-expanded=false> <label class=md-nav__title for=__nav_3_20> <span class="md-nav__icon md-icon"></span> Serialization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../serializer/DeserializationStream/ class=md-nav__link> <span class=md-ellipsis> DeserializationStream </span> </a> </li> <li class=md-nav__item> <a href=../serializer/JavaSerializerInstance/ class=md-nav__link> <span class=md-ellipsis> JavaSerializerInstance </span> </a> </li> <li class=md-nav__item> <a href=../serializer/KryoSerializer/ class=md-nav__link> <span class=md-ellipsis> KryoSerializer </span> </a> </li> <li class=md-nav__item> <a href=../serializer/KryoSerializerInstance/ class=md-nav__link> <span class=md-ellipsis> KryoSerializerInstance </span> </a> </li> <li class=md-nav__item> <a href=../serializer/SerializationStream/ class=md-nav__link> <span class=md-ellipsis> SerializationStream </span> </a> </li> <li class=md-nav__item> <a href=../serializer/Serializer/ class=md-nav__link> <span class=md-ellipsis> Serializer </span> </a> </li> <li class=md-nav__item> <a href=../serializer/SerializerInstance/ class=md-nav__link> <span class=md-ellipsis> SerializerInstance </span> </a> </li> <li class=md-nav__item> <a href=../serializer/SerializerManager/ class=md-nav__link> <span class=md-ellipsis> SerializerManager </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_21> <label class=md-nav__link for=__nav_3_21 id=__nav_3_21_label tabindex=0> <span class=md-ellipsis> Barrier Execution Mode </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_21_label aria-expanded=false> <label class=md-nav__title for=__nav_3_21> <span class="md-nav__icon md-icon"></span> Barrier Execution Mode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../barrier-execution-mode/ class=md-nav__link> <span class=md-ellipsis> barrier-execution-mode </span> </a> </li> <li class=md-nav__item> <a href=../RDDBarrier/ class=md-nav__link> <span class=md-ellipsis> RDDBarrier </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../speculative-execution-of-tasks/ class=md-nav__link> <span class=md-ellipsis> Speculative Execution of Tasks </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_23> <label class=md-nav__link for=__nav_3_23 id=__nav_3_23_label tabindex=0> <span class=md-ellipsis> Deployment Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_23_label aria-expanded=false> <label class=md-nav__title for=__nav_3_23> <span class="md-nav__icon md-icon"></span> Deployment Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../driver/ class=md-nav__link> <span class=md-ellipsis> Driver </span> </a> </li> <li class=md-nav__item> <a href=../master/ class=md-nav__link> <span class=md-ellipsis> Master </span> </a> </li> <li class=md-nav__item> <a href=../workers/ class=md-nav__link> <span class=md-ellipsis> Workers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_24> <label class=md-nav__link for=__nav_3_24 id=__nav_3_24_label tabindex=0> <span class=md-ellipsis> Internal IO </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_24_label aria-expanded=false> <label class=md-nav__title for=__nav_3_24> <span class="md-nav__icon md-icon"></span> Internal IO </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SparkHadoopWriter/ class=md-nav__link> <span class=md-ellipsis> SparkHadoopWriter </span> </a> </li> <li class=md-nav__item> <a href=../HadoopWriteConfigUtil/ class=md-nav__link> <span class=md-ellipsis> HadoopWriteConfigUtil </span> </a> </li> <li class=md-nav__item> <a href=../FileCommitProtocol/ class=md-nav__link> <span class=md-ellipsis> FileCommitProtocol </span> </a> </li> <li class=md-nav__item> <a href=../HadoopMapReduceCommitProtocol/ class=md-nav__link> <span class=md-ellipsis> HadoopMapReduceCommitProtocol </span> </a> </li> <li class=md-nav__item> <a href=../HadoopMapRedCommitProtocol/ class=md-nav__link> <span class=md-ellipsis> HadoopMapRedCommitProtocol </span> </a> </li> <li class=md-nav__item> <a href=../HadoopMapReduceWriteConfigUtil/ class=md-nav__link> <span class=md-ellipsis> HadoopMapReduceWriteConfigUtil </span> </a> </li> <li class=md-nav__item> <a href=../HadoopMapRedWriteConfigUtil/ class=md-nav__link> <span class=md-ellipsis> HadoopMapRedWriteConfigUtil </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_25> <div class="md-nav__link md-nav__container"> <a href=../status/ class="md-nav__link "> <span class=md-ellipsis> Status </span> </a> <label class="md-nav__link " for=__nav_3_25> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_25_label aria-expanded=false> <label class=md-nav__title for=__nav_3_25> <span class="md-nav__icon md-icon"></span> Status </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../status/AppStatusListener/ class=md-nav__link> <span class=md-ellipsis> AppStatusListener </span> </a> </li> <li class=md-nav__item> <a href=../status/AppStatusSource/ class=md-nav__link> <span class=md-ellipsis> AppStatusSource </span> </a> </li> <li class=md-nav__item> <a href=../status/AppStatusStore/ class=md-nav__link> <span class=md-ellipsis> AppStatusStore </span> </a> </li> <li class=md-nav__item> <a href=../status/ElementTrackingStore/ class=md-nav__link> <span class=md-ellipsis> ElementTrackingStore </span> </a> </li> <li class=md-nav__item> <a href=../status/LiveEntity/ class=md-nav__link> <span class=md-ellipsis> LiveEntity </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_26> <div class="md-nav__link md-nav__container"> <a href=../network/ class="md-nav__link "> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_3_26> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_26_label aria-expanded=false> <label class=md-nav__title for=__nav_3_26> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../network/SparkTransportConf/ class=md-nav__link> <span class=md-ellipsis> SparkTransportConf </span> </a> </li> <li class=md-nav__item> <a href=../network/TransportClientFactory/ class=md-nav__link> <span class=md-ellipsis> TransportClientFactory </span> </a> </li> <li class=md-nav__item> <a href=../network/TransportContext/ class=md-nav__link> <span class=md-ellipsis> TransportContext </span> </a> </li> <li class=md-nav__item> <a href=../network/TransportConf/ class=md-nav__link> <span class=md-ellipsis> TransportConf </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_27> <label class=md-nav__link for=__nav_3_27 id=__nav_3_27_label tabindex=0> <span class=md-ellipsis> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_27_label aria-expanded=false> <label class=md-nav__title for=__nav_3_27> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../BytesToBytesMap/ class=md-nav__link> <span class=md-ellipsis> BytesToBytesMap </span> </a> </li> <li class=md-nav__item> <a href=../ExecutorDeadException/ class=md-nav__link> <span class=md-ellipsis> ExecutorDeadException </span> </a> </li> <li class=md-nav__item> <a href=../HeartbeatReceiver/ class=md-nav__link> <span class=md-ellipsis> HeartbeatReceiver </span> </a> </li> <li class=md-nav__item> <a href=../InterruptibleIterator/ class=md-nav__link> <span class=md-ellipsis> InterruptibleIterator </span> </a> </li> <li class=md-nav__item> <a href=../Utils/ class=md-nav__link> <span class=md-ellipsis> Utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_28> <label class=md-nav__link for=__nav_3_28 id=__nav_3_28_label tabindex=0> <span class=md-ellipsis> Spark Tips and Tricks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_28_label aria-expanded=false> <label class=md-nav__title for=__nav_3_28> <span class="md-nav__icon md-icon"></span> Spark Tips and Tricks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../spark-tips-and-tricks/ class=md-nav__link> <span class=md-ellipsis> Spark Tips and Tricks </span> </a> </li> <li class=md-nav__item> <a href=../spark-tips-and-tricks-access-private-members-spark-shell/ class=md-nav__link> <span class=md-ellipsis> Access private members in Scala in Spark shell </span> </a> </li> <li class=md-nav__item> <a href=../spark-tips-and-tricks-sparkexception-task-not-serializable/ class=md-nav__link> <span class=md-ellipsis> Task not serializable Exception </span> </a> </li> <li class=md-nav__item> <a href=../spark-tips-and-tricks-running-spark-windows/ class=md-nav__link> <span class=md-ellipsis> Running Spark Applications on Windows </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_29> <div class="md-nav__link md-nav__container"> <a href=../local/ class="md-nav__link "> <span class=md-ellipsis> Spark Local </span> </a> <label class="md-nav__link " for=__nav_3_29> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_29_label aria-expanded=false> <label class=md-nav__title for=__nav_3_29> <span class="md-nav__icon md-icon"></span> Spark Local </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../local/LocalSchedulerBackend/ class=md-nav__link> <span class=md-ellipsis> LocalSchedulerBackend </span> </a> </li> <li class=md-nav__item> <a href=../local/LocalEndpoint/ class=md-nav__link> <span class=md-ellipsis> LocalEndpoint </span> </a> </li> <li class=md-nav__item> <a href=../local/LauncherBackend/ class=md-nav__link> <span class=md-ellipsis> LauncherBackend </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Shared Variables </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Shared Variables </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <div class="md-nav__link md-nav__container"> <a href=../accumulators/ class="md-nav__link "> <span class=md-ellipsis> Accumulators </span> </a> <label class="md-nav__link " for=__nav_4_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Accumulators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../accumulators/AccumulatorV2/ class=md-nav__link> <span class=md-ellipsis> AccumulatorV2 </span> </a> </li> <li class=md-nav__item> <a href=../accumulators/AccumulatorContext/ class=md-nav__link> <span class=md-ellipsis> AccumulatorContext </span> </a> </li> <li class=md-nav__item> <a href=../accumulators/InternalAccumulator/ class=md-nav__link> <span class=md-ellipsis> InternalAccumulator </span> </a> </li> <li class=md-nav__item> <a href=../accumulators/AccumulatorSource/ class=md-nav__link> <span class=md-ellipsis> AccumulatorSource </span> </a> </li> <li class=md-nav__item> <a href=../accumulators/AccumulableInfo/ class=md-nav__link> <span class=md-ellipsis> AccumulableInfo </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__container"> <a href=../broadcast-variables/ class="md-nav__link "> <span class=md-ellipsis> Broadcast Variables </span> </a> <label class="md-nav__link " for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Broadcast Variables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../broadcast-variables/Broadcast/ class=md-nav__link> <span class=md-ellipsis> Broadcast </span> </a> </li> <li class=md-nav__item> <a href=../broadcast-variables/BroadcastFactory/ class=md-nav__link> <span class=md-ellipsis> BroadcastFactory </span> </a> </li> <li class=md-nav__item> <a href=../broadcast-variables/BroadcastManager/ class=md-nav__link> <span class=md-ellipsis> BroadcastManager </span> </a> </li> <li class=md-nav__item> <a href=../broadcast-variables/TorrentBroadcast/ class=md-nav__link> <span class=md-ellipsis> TorrentBroadcast </span> </a> </li> <li class=md-nav__item> <a href=../broadcast-variables/TorrentBroadcastFactory/ class=md-nav__link> <span class=md-ellipsis> TorrentBroadcastFactory </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ConsoleProgressBar/ class=md-nav__link> <span class=md-ellipsis> ConsoleProgressBar </span> </a> </li> <li class=md-nav__item> <a href=../spark-debugging/ class=md-nav__link> <span class=md-ellipsis> Debugging Spark </span> </a> </li> <li class=md-nav__item> <a href=../DriverLogger/ class=md-nav__link> <span class=md-ellipsis> DriverLogger </span> </a> </li> <li class=md-nav__item> <a href=../ListenerBus/ class=md-nav__link> <span class=md-ellipsis> ListenerBus </span> </a> </li> <li class=md-nav__item> <a href=../SparkListener/ class=md-nav__link> <span class=md-ellipsis> SparkListener </span> </a> </li> <li class=md-nav__item> <a href=../SparkListenerBus/ class=md-nav__link> <span class=md-ellipsis> SparkListenerBus </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> SparkListenerEvents </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> SparkListenerEvents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SparkListenerEvent/ class=md-nav__link> <span class=md-ellipsis> SparkListenerEvent </span> </a> </li> <li class=md-nav__item> <a href=../SparkListenerTaskEnd/ class=md-nav__link> <span class=md-ellipsis> SparkListenerTaskEnd </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../SparkListenerInterface/ class=md-nav__link> <span class=md-ellipsis> SparkListenerInterface </span> </a> </li> <li class=md-nav__item> <a href=../SparkStatusTracker/ class=md-nav__link> <span class=md-ellipsis> SparkStatusTracker </span> </a> </li> <li class=md-nav__item> <a href=../SpillListener/ class=md-nav__link> <span class=md-ellipsis> SpillListener </span> </a> </li> <li class=md-nav__item> <a href=../StatsReportListener/ class=md-nav__link> <span class=md-ellipsis> StatsReportListener </span> </a> </li> <li class=md-nav__item> <a href=../TaskCompletionListener/ class=md-nav__link> <span class=md-ellipsis> TaskCompletionListener </span> </a> </li> <li class=md-nav__item> <a href=../TaskFailureListener/ class=md-nav__link> <span class=md-ellipsis> TaskFailureListener </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_14> <div class="md-nav__link md-nav__container"> <a href=../history-server/ class="md-nav__link "> <span class=md-ellipsis> Spark History Server </span> </a> <label class="md-nav__link " for=__nav_5_14> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_14_label aria-expanded=false> <label class=md-nav__title for=__nav_5_14> <span class="md-nav__icon md-icon"></span> Spark History Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../history-server/configuration-properties/ class=md-nav__link> <span class=md-ellipsis> Configuration Properties </span> </a> </li> <li class=md-nav__item> <a href=../history-server/HistoryServer/ class=md-nav__link> <span class=md-ellipsis> HistoryServer </span> </a> </li> <li class=md-nav__item> <a href=../history-server/HistoryAppStatusStore/ class=md-nav__link> <span class=md-ellipsis> HistoryAppStatusStore </span> </a> </li> <li class=md-nav__item> <a href=../history-server/HistoryServerDiskManager/ class=md-nav__link> <span class=md-ellipsis> HistoryServerDiskManager </span> </a> </li> <li class=md-nav__item> <a href=../history-server/EventLoggingListener/ class=md-nav__link> <span class=md-ellipsis> EventLoggingListener </span> </a> </li> <li class=md-nav__item> <a href=../history-server/SQLHistoryListener/ class=md-nav__link> <span class=md-ellipsis> SQLHistoryListener </span> </a> </li> <li class=md-nav__item> <a href=../history-server/ApplicationHistoryProvider/ class=md-nav__link> <span class=md-ellipsis> ApplicationHistoryProvider </span> </a> </li> <li class=md-nav__item> <a href=../history-server/FsHistoryProvider/ class=md-nav__link> <span class=md-ellipsis> FsHistoryProvider </span> </a> </li> <li class=md-nav__item> <a href=../history-server/HistoryServerArguments/ class=md-nav__link> <span class=md-ellipsis> HistoryServerArguments </span> </a> </li> <li class=md-nav__item> <a href=../history-server/ApplicationCacheOperations/ class=md-nav__link> <span class=md-ellipsis> ApplicationCacheOperations </span> </a> </li> <li class=md-nav__item> <a href=../history-server/ApplicationCache/ class=md-nav__link> <span class=md-ellipsis> ApplicationCache </span> </a> </li> <li class=md-nav__item> <a href=../history-server/ReplayListenerBus/ class=md-nav__link> <span class=md-ellipsis> ReplayListenerBus </span> </a> </li> <li class=md-nav__item> <a href=../history-server/EventLogFileWriter/ class=md-nav__link> <span class=md-ellipsis> EventLogFileWriter </span> </a> </li> <li class=md-nav__item> <a href=../history-server/JsonProtocol/ class=md-nav__link> <span class=md-ellipsis> JsonProtocol </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_15> <div class="md-nav__link md-nav__container"> <a href=../rest/ class="md-nav__link "> <span class=md-ellipsis> Status REST API </span> </a> <label class="md-nav__link " for=__nav_5_15> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_15_label aria-expanded=false> <label class=md-nav__title for=__nav_5_15> <span class="md-nav__icon md-icon"></span> Status REST API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../rest/ApiRootResource/ class=md-nav__link> <span class=md-ellipsis> ApiRootResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/ApplicationListResource/ class=md-nav__link> <span class=md-ellipsis> ApplicationListResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/OneApplicationResource/ class=md-nav__link> <span class=md-ellipsis> OneApplicationResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/StagesResource/ class=md-nav__link> <span class=md-ellipsis> StagesResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/OneApplicationAttemptResource/ class=md-nav__link> <span class=md-ellipsis> OneApplicationAttemptResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/AbstractApplicationResource/ class=md-nav__link> <span class=md-ellipsis> AbstractApplicationResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/BaseAppResource/ class=md-nav__link> <span class=md-ellipsis> BaseAppResource </span> </a> </li> <li class=md-nav__item> <a href=../rest/ApiRequestContext/ class=md-nav__link> <span class=md-ellipsis> ApiRequestContext </span> </a> </li> <li class=md-nav__item> <a href=../rest/UIRoot/ class=md-nav__link> <span class=md-ellipsis> UIRoot </span> </a> </li> <li class=md-nav__item> <a href=../rest/UIRootFromServletContext/ class=md-nav__link> <span class=md-ellipsis> UIRootFromServletContext </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16> <div class="md-nav__link md-nav__container"> <a href=../metrics/ class="md-nav__link "> <span class=md-ellipsis> Metrics </span> </a> <label class="md-nav__link " for=__nav_5_16> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_16_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16> <span class="md-nav__icon md-icon"></span> Metrics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../metrics/configuration-properties/ class=md-nav__link> <span class=md-ellipsis> Configuration Properties </span> </a> </li> <li class=md-nav__item> <a href=../metrics/MetricsSystem/ class=md-nav__link> <span class=md-ellipsis> MetricsSystem </span> </a> </li> <li class=md-nav__item> <a href=../metrics/MetricsConfig/ class=md-nav__link> <span class=md-ellipsis> MetricsConfig </span> </a> </li> <li class=md-nav__item> <a href=../metrics/Source/ class=md-nav__link> <span class=md-ellipsis> Source </span> </a> </li> <li class=md-nav__item> <a href=../metrics/Sink/ class=md-nav__link> <span class=md-ellipsis> Sink </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16_7> <label class=md-nav__link for=__nav_5_16_7 id=__nav_5_16_7_label tabindex=0> <span class=md-ellipsis> Sources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_16_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16_7> <span class="md-nav__icon md-icon"></span> Sources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../metrics/JvmSource/ class=md-nav__link> <span class=md-ellipsis> JvmSource </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16_8> <label class=md-nav__link for=__nav_5_16_8 id=__nav_5_16_8_label tabindex=0> <span class=md-ellipsis> Sinks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_16_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16_8> <span class="md-nav__icon md-icon"></span> Sinks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../metrics/MetricsServlet/ class=md-nav__link> <span class=md-ellipsis> MetricsServlet </span> </a> </li> <li class=md-nav__item> <a href=../metrics/PrometheusServlet/ class=md-nav__link> <span class=md-ellipsis> PrometheusServlet </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../tools/ class="md-nav__link "> <span class=md-ellipsis> Tools </span> </a> <label class="md-nav__link " for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tools/AbstractLauncher/ class=md-nav__link> <span class=md-ellipsis> AbstractLauncher </span> </a> </li> <li class=md-nav__item> <a href=../tools/Main/ class=md-nav__link> <span class=md-ellipsis> Main </span> </a> </li> <li class=md-nav__item> <a href=../tools/pyspark/ class=md-nav__link> <span class=md-ellipsis> pyspark </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> spark-submit </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> spark-submit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tools/spark-submit/ class=md-nav__link> <span class=md-ellipsis> spark-submit </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmit/ class=md-nav__link> <span class=md-ellipsis> SparkSubmit </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitOperation/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitOperation </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitUtils/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitUtils </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkApplication/ class=md-nav__link> <span class=md-ellipsis> SparkApplication </span> </a> </li> <li class=md-nav__item> <a href=../tools/JavaMainApplication/ class=md-nav__link> <span class=md-ellipsis> JavaMainApplication </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tools/spark-shell/ class=md-nav__link> <span class=md-ellipsis> spark-shell </span> </a> </li> <li class=md-nav__item> <a href=../tools/spark-class/ class=md-nav__link> <span class=md-ellipsis> spark-class </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkLauncher/ class=md-nav__link> <span class=md-ellipsis> SparkLauncher </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitCommandBuilder/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitCommandBuilder </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitCommandBuilder.OptionParser/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitCommandBuilder.OptionParser </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitArguments/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitArguments </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkClassCommandBuilder/ class=md-nav__link> <span class=md-ellipsis> SparkClassCommandBuilder </span> </a> </li> <li class=md-nav__item> <a href=../tools/DependencyUtils/ class=md-nav__link> <span class=md-ellipsis> DependencyUtils </span> </a> </li> <li class=md-nav__item> <a href=../tools/SparkSubmitOptionParser/ class=md-nav__link> <span class=md-ellipsis> SparkSubmitOptionParser </span> </a> </li> <li class=md-nav__item> <a href=../tools/AbstractCommandBuilder/ class=md-nav__link> <span class=md-ellipsis> AbstractCommandBuilder </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../rdd/ class="md-nav__link "> <span class=md-ellipsis> RDD </span> </a> <label class="md-nav__link " for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> RDD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../rdd/CoalescedRDD/ class=md-nav__link> <span class=md-ellipsis> CoalescedRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/CheckpointRDD/ class=md-nav__link> <span class=md-ellipsis> CheckpointRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/CoGroupedRDD/ class=md-nav__link> <span class=md-ellipsis> CoGroupedRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/Dependency/ class=md-nav__link> <span class=md-ellipsis> Dependency </span> </a> </li> <li class=md-nav__item> <a href=../rdd/HadoopRDD/ class=md-nav__link> <span class=md-ellipsis> HadoopRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/LocalCheckpointRDD/ class=md-nav__link> <span class=md-ellipsis> LocalCheckpointRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/MapPartitionsRDD/ class=md-nav__link> <span class=md-ellipsis> MapPartitionsRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/NarrowDependency/ class=md-nav__link> <span class=md-ellipsis> NarrowDependency </span> </a> </li> <li class=md-nav__item> <a href=../rdd/NewHadoopRDD/ class=md-nav__link> <span class=md-ellipsis> NewHadoopRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/ParallelCollectionRDD/ class=md-nav__link> <span class=md-ellipsis> ParallelCollectionRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/RDD/ class=md-nav__link> <span class=md-ellipsis> RDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/ReliableCheckpointRDD/ class=md-nav__link> <span class=md-ellipsis> ReliableCheckpointRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/ShuffleDependency/ class=md-nav__link> <span class=md-ellipsis> ShuffleDependency </span> </a> </li> <li class=md-nav__item> <a href=../rdd/ShuffledRDD/ class=md-nav__link> <span class=md-ellipsis> ShuffledRDD </span> </a> </li> <li class=md-nav__item> <a href=../rdd/SubtractedRDD/ class=md-nav__link> <span class=md-ellipsis> SubtractedRDD </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_17> <label class=md-nav__link for=__nav_7_17 id=__nav_7_17_label tabindex=0> <span class=md-ellipsis> Operators </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_17_label aria-expanded=false> <label class=md-nav__title for=__nav_7_17> <span class="md-nav__icon md-icon"></span> Operators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../rdd/spark-rdd-operations/ class=md-nav__link> <span class=md-ellipsis> Operators </span> </a> </li> <li class=md-nav__item> <a href=../rdd/spark-rdd-transformations/ class=md-nav__link> <span class=md-ellipsis> Transformations </span> </a> </li> <li class=md-nav__item> <a href=../rdd/OrderedRDDFunctions/ class=md-nav__link> <span class=md-ellipsis> OrderedRDDFunctions </span> </a> </li> <li class=md-nav__item> <a href=../rdd/PairRDDFunctions/ class=md-nav__link> <span class=md-ellipsis> PairRDDFunctions </span> </a> </li> <li class=md-nav__item> <a href=../rdd/AsyncRDDActions/ class=md-nav__link> <span class=md-ellipsis> AsyncRDDActions </span> </a> </li> <li class=md-nav__item> <a href=../rdd/spark-rdd-actions/ class=md-nav__link> <span class=md-ellipsis> Actions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_18> <label class=md-nav__link for=__nav_7_18 id=__nav_7_18_label tabindex=0> <span class=md-ellipsis> Partitioners </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_18_label aria-expanded=false> <label class=md-nav__title for=__nav_7_18> <span class="md-nav__icon md-icon"></span> Partitioners </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../rdd/Partitioner/ class=md-nav__link> <span class=md-ellipsis> Partitioner </span> </a> </li> <li class=md-nav__item> <a href=../rdd/HashPartitioner/ class=md-nav__link> <span class=md-ellipsis> HashPartitioner </span> </a> </li> <li class=md-nav__item> <a href=../rdd/RangePartitioner/ class=md-nav__link> <span class=md-ellipsis> RangePartitioner </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../rdd/lineage/ class=md-nav__link> <span class=md-ellipsis> RDD Lineage </span> </a> </li> <li class=md-nav__item> <a href=../rdd/spark-rdd-caching/ class=md-nav__link> <span class=md-ellipsis> Caching and Persistence </span> </a> </li> <li class=md-nav__item> <a href=../rdd/spark-rdd-partitions/ class=md-nav__link> <span class=md-ellipsis> Partitions and Partitioning </span> </a> </li> <li class=md-nav__item> <a href=../rdd/Partition/ class=md-nav__link> <span class=md-ellipsis> Partition </span> </a> </li> <li class=md-nav__item> <a href=../rdd/checkpointing/ class=md-nav__link> <span class=md-ellipsis> RDD Checkpointing </span> </a> </li> <li class=md-nav__item> <a href=../rdd/RDDCheckpointData/ class=md-nav__link> <span class=md-ellipsis> RDDCheckpointData </span> </a> </li> <li class=md-nav__item> <a href=../rdd/LocalRDDCheckpointData/ class=md-nav__link> <span class=md-ellipsis> LocalRDDCheckpointData </span> </a> </li> <li class=md-nav__item> <a href=../rdd/ReliableRDDCheckpointData/ class=md-nav__link> <span class=md-ellipsis> ReliableRDDCheckpointData </span> </a> </li> <li class=md-nav__item> <a href=../rdd/Aggregator/ class=md-nav__link> <span class=md-ellipsis> Aggregator </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../demo/ class="md-nav__link "> <span class=md-ellipsis> Demos </span> </a> <label class="md-nav__link " for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../demo/diskblockmanager-and-block-data/ class=md-nav__link> <span class=md-ellipsis> DiskBlockManager and Block Data </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_3> <label class=md-nav__link for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class=md-ellipsis> Exercises </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> Exercises </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../exercises/spark-exercise-pairrddfunctions-oneliners/ class=md-nav__link> <span class=md-ellipsis> One-liners using PairRDDFunctions </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-exercise-take-multiple-jobs/ class=md-nav__link> <span class=md-ellipsis> Learning Jobs and Partitions Using take Action </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-exercise-standalone-master-ha/ class=md-nav__link> <span class=md-ellipsis> Spark Standalone - Using ZooKeeper for High-Availability of Master </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-hello-world-using-spark-shell/ class=md-nav__link> <span class=md-ellipsis> Spark's Hello World using Spark shell and Scala </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-examples-wordcount-spark-shell/ class=md-nav__link> <span class=md-ellipsis> WordCount using Spark shell </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-first-app/ class=md-nav__link> <span class=md-ellipsis> Your first complete Spark application (using Scala and sbt) </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-sql-hive-orc-example/ class=md-nav__link> <span class=md-ellipsis> Using Spark SQL to update data in Hive using ORC files </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-exercise-custom-scheduler-listener/ class=md-nav__link> <span class=md-ellipsis> Developing Custom SparkListener to monitor DAGScheduler in Scala </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-exercise-dataframe-jdbc-postgresql/ class=md-nav__link> <span class=md-ellipsis> Working with Datasets from JDBC Data Sources (and PostgreSQL) </span> </a> </li> <li class=md-nav__item> <a href=../exercises/spark-exercise-failing-stage/ class=md-nav__link> <span class=md-ellipsis> Causing Stage to Fail </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../webui/ class="md-nav__link "> <span class=md-ellipsis> Web UIs </span> </a> <label class="md-nav__link " for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Web UIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/configuration-properties/ class=md-nav__link> <span class=md-ellipsis> Configuration Properties </span> </a> </li> <li class=md-nav__item> <a href=../webui/WebUI/ class=md-nav__link> <span class=md-ellipsis> WebUI </span> </a> </li> <li class=md-nav__item> <a href=../webui/WebUIPage/ class=md-nav__link> <span class=md-ellipsis> WebUIPage </span> </a> </li> <li class=md-nav__item> <a href=../webui/WebUITab/ class=md-nav__link> <span class=md-ellipsis> WebUITab </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6> <label class=md-nav__link for=__nav_9_6 id=__nav_9_6_label tabindex=0> <span class=md-ellipsis> Spark UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6> <span class="md-nav__icon md-icon"></span> Spark UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/SparkUI/ class=md-nav__link> <span class=md-ellipsis> SparkUI </span> </a> </li> <li class=md-nav__item> <a href=../webui/SparkUITab/ class=md-nav__link> <span class=md-ellipsis> SparkUITab </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_3> <label class=md-nav__link for=__nav_9_6_3 id=__nav_9_6_3_label tabindex=0> <span class=md-ellipsis> Environment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_3> <span class="md-nav__icon md-icon"></span> Environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/EnvironmentTab/ class=md-nav__link> <span class=md-ellipsis> EnvironmentTab </span> </a> </li> <li class=md-nav__item> <a href=../webui/EnvironmentPage/ class=md-nav__link> <span class=md-ellipsis> EnvironmentPage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_4> <label class=md-nav__link for=__nav_9_6_4 id=__nav_9_6_4_label tabindex=0> <span class=md-ellipsis> Executors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_4> <span class="md-nav__icon md-icon"></span> Executors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/ExecutorsTab/ class=md-nav__link> <span class=md-ellipsis> ExecutorsTab </span> </a> </li> <li class=md-nav__item> <a href=../webui/ExecutorsPage/ class=md-nav__link> <span class=md-ellipsis> ExecutorsPage </span> </a> </li> <li class=md-nav__item> <a href=../webui/ExecutorThreadDumpPage/ class=md-nav__link> <span class=md-ellipsis> ExecutorThreadDumpPage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_5> <label class=md-nav__link for=__nav_9_6_5 id=__nav_9_6_5_label tabindex=0> <span class=md-ellipsis> Jobs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_5> <span class="md-nav__icon md-icon"></span> Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/JobsTab/ class=md-nav__link> <span class=md-ellipsis> JobsTab </span> </a> </li> <li class=md-nav__item> <a href=../webui/AllJobsPage/ class=md-nav__link> <span class=md-ellipsis> AllJobsPage </span> </a> </li> <li class=md-nav__item> <a href=../webui/JobPage/ class=md-nav__link> <span class=md-ellipsis> JobPage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_6> <label class=md-nav__link for=__nav_9_6_6 id=__nav_9_6_6_label tabindex=0> <span class=md-ellipsis> Stages </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_6> <span class="md-nav__icon md-icon"></span> Stages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/StagesTab/ class=md-nav__link> <span class=md-ellipsis> StagesTab </span> </a> </li> <li class=md-nav__item> <a href=../webui/AllStagesPage/ class=md-nav__link> <span class=md-ellipsis> AllStagesPage </span> </a> </li> <li class=md-nav__item> <a href=../webui/StagePage/ class=md-nav__link> <span class=md-ellipsis> StagePage </span> </a> </li> <li class=md-nav__item> <a href=../webui/PoolPage/ class=md-nav__link> <span class=md-ellipsis> PoolPage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_7> <label class=md-nav__link for=__nav_9_6_7 id=__nav_9_6_7_label tabindex=0> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_7> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webui/StorageTab/ class=md-nav__link> <span class=md-ellipsis> StorageTab </span> </a> </li> <li class=md-nav__item> <a href=../webui/StoragePage/ class=md-nav__link> <span class=md-ellipsis> StoragePage </span> </a> </li> <li class=md-nav__item> <a href=../webui/RDDPage/ class=md-nav__link> <span class=md-ellipsis> RDDPage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../webui/PrometheusResource/ class=md-nav__link> <span class=md-ellipsis> PrometheusResource </span> </a> </li> <li class=md-nav__item> <a href=../webui/UIUtils/ class=md-nav__link> <span class=md-ellipsis> UIUtils </span> </a> </li> <li class=md-nav__item> <a href=../webui/JettyUtils/ class=md-nav__link> <span class=md-ellipsis> JettyUtils </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#creating-instance class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Creating Instance </span> </span> </a> </li> <li class=md-nav__item> <a href=#checkpoint-directory class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Checkpoint Directory </span> </span> </a> <nav class=md-nav aria-label=" Checkpoint Directory"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#getcheckpointdir class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> getCheckpointDir </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#submitting-mapstage-for-execution class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Submitting MapStage for Execution </span> </span> </a> </li> <li class=md-nav__item> <a href=#executormetricssource class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ExecutorMetricsSource </span> </span> </a> </li> <li class=md-nav__item> <a href=#services class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Services </span> </span> </a> </li> <li class=md-nav__item> <a href=#resourceprofilemanager class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ResourceProfileManager </span> </span> </a> <nav class=md-nav aria-label=" ResourceProfileManager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resourceprofilemanager_1 class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> resourceProfileManager </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#driverlogger class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> DriverLogger </span> </span> </a> </li> <li class=md-nav__item> <a href=#appstatussource class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> AppStatusSource </span> </span> </a> </li> <li class=md-nav__item> <a href=#appstatusstore class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> AppStatusStore </span> </span> </a> <nav class=md-nav aria-label=" AppStatusStore"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statusstore class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> statusStore </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sparkstatustracker class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> SparkStatusTracker </span> </span> </a> <nav class=md-nav aria-label=" SparkStatusTracker"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statustracker class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> statusTracker </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-properties class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span><span><span> Local Properties </span> </span> </a> </li> <li class=md-nav__item> <a href=#shuffledrivercomponents class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> ShuffleDriverComponents </span> </span> </a> </li> <li class=md-nav__item> <a href=#static-files class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Static Files </span> </span> </a> <nav class=md-nav aria-label="Static Files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#addfile class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> addFile </span> </span> </a> </li> <li class=md-nav__item> <a href=#listfiles class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> listFiles </span> </span> </a> </li> <li class=md-nav__item> <a href=#addedfiles-internal-registry class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> addedFiles Internal Registry </span> </span> </a> </li> <li class=md-nav__item> <a href=#files class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> files </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#posting-sparklistenerenvironmentupdate-event class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Posting SparkListenerEnvironmentUpdate Event </span> </span> </a> </li> <li class=md-nav__item> <a href=#getorcreate-utility class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> getOrCreate Utility </span> </span> </a> </li> <li class=md-nav__item> <a href=#plugincontainer class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span><span> PluginContainer </span> </span> </a> </li> <li class=md-nav__item> <a href=#creating-schedulerbackend-and-taskscheduler class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Creating SchedulerBackend and TaskScheduler </span> </span> </a> </li> <li class=md-nav__item> <a href=#loading-externalclustermanager class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Loading ExternalClusterManager </span> </span> </a> </li> <li class=md-nav__item> <a href=#running-job-synchronously class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Running Job Synchronously </span> </span> </a> <nav class=md-nav aria-label=" Running Job Synchronously"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#demo class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Demo </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#call-site class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Call Site </span> </span> </a> </li> <li class=md-nav__item> <a href=#closure-cleaning class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Closure Cleaning </span> </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Logging </span> </span> </a> </li> <li class=md-nav__item> <a href=#to-be-reviewed class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> To Be Reviewed </span> </span> </a> <nav class=md-nav aria-label="To Be Reviewed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#removing-rdd-blocks-from-blockmanagermaster class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> <span> Removing RDD Blocks from BlockManagerMaster </span> </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=.. class=md-path__link> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class=md-path__item> <a href=../overview/ class=md-path__link> <span class=md-ellipsis> Internals </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=sparkcontext>SparkContext<a class=headerlink href=#sparkcontext title="Permanent link">&para;</a></h1> <p><code>SparkContext</code> is the entry point to all of the components of Apache Spark (execution engine) and so the heart of a Spark application. In fact, you can consider an application a Spark application only when it uses a SparkContext (directly or indirectly).</p> <p><img alt="Spark context acts as the master of your Spark application" src=../images/diagrams/sparkcontext-services.png></p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>There should be one active <code>SparkContext</code> per JVM and Spark developers should use <a href=#getOrCreate>SparkContext.getOrCreate</a> utility for sharing it (e.g. across threads).</p> </div> <h2 id=creating-instance>Creating Instance<a class=headerlink href=#creating-instance title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> takes the following to be created:</p> <ul> <li><span id=config> <a href=../SparkConf/ >SparkConf</a></li> </ul> <p><code>SparkContext</code> is created (directly or indirectly using <a href=#getOrCreate>getOrCreate</a> utility).</p> <p>While being created, <code>SparkContext</code> <a href=../SparkContext-creating-instance-internals/ >sets up core services</a> and establishes a connection to a cluster manager.</p> <h2 id=checkpoint-directory><span id=checkpointDir> Checkpoint Directory<a class=headerlink href=#checkpoint-directory title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> defines <code>checkpointDir</code> internal registry for the path to a checkpoint directory.</p> <p><code>checkpointDir</code> is undefined (<code>None</code>) when <code>SparkContext</code> is <a href=#creating-instance>created</a> and is set using <a href=#setCheckpointDir>setCheckpointDir</a>.</p> <p><code>checkpointDir</code> is required for <a href=../rdd/RDD/#checkpoint>Reliable Checkpointing</a>.</p> <p><code>checkpointDir</code> is available using <a href=#getCheckpointDir>getCheckpointDir</a>.</p> <h3 id=getcheckpointdir><span id=getCheckpointDir> getCheckpointDir<a class=headerlink href=#getcheckpointdir title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>getCheckpointDir</span><span class=p>:</span><span class=w> </span><span class=nc>Option</span><span class=p>[</span><span class=nc>String</span><span class=p>]</span>
</code></pre></div> <p><code>getCheckpointDir</code> returns the <a href=#checkpointDir>checkpointDir</a>.</p> <p><code>getCheckpointDir</code> is used when:</p> <ul> <li><code>ReliableRDDCheckpointData</code> is requested for the <a href=../rdd/ReliableRDDCheckpointData/#checkpointPath>checkpoint path</a></li> </ul> <h2 id=submitting-mapstage-for-execution><span id=submitMapStage> Submitting MapStage for Execution<a class=headerlink href=#submitting-mapstage-for-execution title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>submitMapStage</span><span class=p>[</span><span class=nc>K</span><span class=p>,</span><span class=w> </span><span class=nc>V</span><span class=p>,</span><span class=w> </span><span class=nc>C</span><span class=p>](</span>
<span class=w>  </span><span class=n>dependency</span><span class=p>:</span><span class=w> </span><span class=nc>ShuffleDependency</span><span class=p>[</span><span class=nc>K</span><span class=p>,</span><span class=w> </span><span class=nc>V</span><span class=p>,</span><span class=w> </span><span class=nc>C</span><span class=p>]):</span><span class=w> </span><span class=nc>SimpleFutureAction</span><span class=p>[</span><span class=nc>MapOutputStatistics</span><span class=p>]</span>
</code></pre></div> <p><code>submitMapStage</code> requests the <a href=#dagScheduler>DAGScheduler</a> to <a href=../scheduler/DAGScheduler/#submitMapStage>submit</a> the given <a href=../rdd/ShuffleDependency/ >ShuffleDependency</a> for execution (that eventually produces a <a href=../scheduler/MapOutputStatistics/ >MapOutputStatistics</a>).</p> <p><code>submitMapStage</code> is used when:</p> <ul> <li><code>ShuffleExchangeExec</code> (<a href=https://books.japila.pl/spark-sql-internals/physical-operators/ShuffleExchangeExec#mapOutputStatisticsFuture>Spark SQL</a>) unary physical operator is executed</li> </ul> <h2 id=executormetricssource><span id=ExecutorMetricsSource><span id=_executorMetricsSource> ExecutorMetricsSource<a class=headerlink href=#executormetricssource title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> creates an <a href=../executor/ExecutorMetricsSource/ >ExecutorMetricsSource</a> when <a href=#creating-instance>created</a> with <a href=../metrics/configuration-properties/#spark.metrics.executorMetricsSource.enabled>spark.metrics.executorMetricsSource.enabled</a> enabled.</p> <p><code>SparkContext</code> requests the <code>ExecutorMetricsSource</code> to <a href=../executor/ExecutorMetricsSource/#register>register</a> with the <a href=../SparkEnv/#metricsSystem>MetricsSystem</a>.</p> <p><code>SparkContext</code> uses the <code>ExecutorMetricsSource</code> to create the <a href=#_heartbeater>Heartbeater</a>.</p> <h2 id=services>Services<a class=headerlink href=#services title="Permanent link">&para;</a></h2> <ul> <li> <p><span id=executorAllocationManager><span id=_executorAllocationManager><span id=ExecutorAllocationManager> <a href=../dynamic-allocation/ExecutorAllocationManager/ >ExecutorAllocationManager</a> (optional)</p> </li> <li> <p><span id=schedulerBackend> <a href=../scheduler/SchedulerBackend/ >SchedulerBackend</a></p> </li> </ul> <h2 id=resourceprofilemanager><span id=_resourceProfileManager><span id=ResourceProfileManager> ResourceProfileManager<a class=headerlink href=#resourceprofilemanager title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> creates a <a href=../stage-level-scheduling/ResourceProfileManager/ >ResourceProfileManager</a> when <a href=#creating-instance>created</a>.</p> <h3 id=resourceprofilemanager_1><span id=resourceProfileManager> resourceProfileManager<a class=headerlink href=#resourceprofilemanager_1 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>resourceProfileManager</span><span class=p>:</span><span class=w> </span><span class=nc>ResourceProfileManager</span>
</code></pre></div> <p><code>resourceProfileManager</code> returns the <a href=#_resourceProfileManager>ResourceProfileManager</a>.</p> <p><code>resourceProfileManager</code> is used when:</p> <ul> <li><code>KubernetesClusterSchedulerBackend</code> (<a href=https://jaceklaskowski.github.io/spark-kubernetes-book/KubernetesClusterSchedulerBackend>Spark on Kubernetes</a>) is created</li> <li><em>others</em></li> </ul> <h2 id=driverlogger><span id=_driverLogger><span id=DriverLogger> DriverLogger<a class=headerlink href=#driverlogger title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> can <a href=../DriverLogger/#apply>create a DriverLogger</a> when <a href=#creating-instance>created</a>.</p> <p><code>SparkContext</code> requests the <code>DriverLogger</code> to <a href=../DriverLogger/#startSync>startSync</a> in <a href=#postApplicationStart>postApplicationStart</a>.</p> <h2 id=appstatussource><span id=appStatusSource> AppStatusSource<a class=headerlink href=#appstatussource title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> can <a href=../status/AppStatusSource/#createSource>create an AppStatusSource</a> when <a href=#creating-instance>created</a> (based on the <a href=../metrics/configuration-properties/#spark.metrics.appStatusSource.enabled>spark.metrics.appStatusSource.enabled</a> configuration property).</p> <p><code>SparkContext</code> uses the <code>AppStatusSource</code> to create the <a href=#_statusStore>AppStatusStore</a>.</p> <p>If configured, <code>SparkContext</code> <a href=../metrics/MetricsSystem/#registerSource>registers</a> the <code>AppStatusSource</code> with the <a href=../SparkEnv/#metricsSystem>MetricsSystem</a>.</p> <h2 id=appstatusstore><span id=_statusStore><span id=AppStatusStore> AppStatusStore<a class=headerlink href=#appstatusstore title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> <a href=../status/AppStatusStore/#createLiveStore>creates an AppStatusStore</a> when <a href=#creating-instance>created</a> (with itself and the <a href=#appStatusSource>AppStatusSource</a>).</p> <p><code>SparkContext</code> requests <code>AppStatusStore</code> for the <a href=../status/AppStatusStore/#listener>AppStatusListener</a> and requests the <a href=#listenerBus>LiveListenerBus</a> to <a href=../scheduler/LiveListenerBus/#addToStatusQueue>add it to the application status queue</a>.</p> <p><code>SparkContext</code> uses the <code>AppStatusStore</code> to create the following:</p> <ul> <li><a href=#_statusTracker>SparkStatusTracker</a></li> <li><a href=#_ui>SparkUI</a></li> </ul> <p><code>AppStatusStore</code> is requested to <a href=#close>status/AppStatusStore.md#close</a> in <a href=#stop>stop</a>.</p> <h3 id=statusstore><span id=statusStore> statusStore<a class=headerlink href=#statusstore title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>statusStore</span><span class=p>:</span><span class=w> </span><span class=nc>AppStatusStore</span>
</code></pre></div> <p><code>statusStore</code> returns the <a href=#_statusStore>AppStatusStore</a>.</p> <p><code>statusStore</code> is used when:</p> <ul> <li><code>SparkContext</code> is requested to <a href=#getRDDStorageInfo>getRDDStorageInfo</a></li> <li><code>ConsoleProgressBar</code> is requested to <a href=../ConsoleProgressBar/#refresh>refresh</a></li> <li><code>HiveThriftServer2</code> is requested to <code>createListenerAndUI</code></li> <li><code>SharedState</code> (<a href=https://books.japila.pl/spark-sql-internals/SharedState>Spark SQL</a>) is requested for a <code>SQLAppStatusStore</code> and a <code>StreamingQueryStatusListener</code></li> </ul> <h2 id=sparkstatustracker><span id=_statusTracker><span id=SparkStatusTracker> SparkStatusTracker<a class=headerlink href=#sparkstatustracker title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> creates a <a href=../SparkStatusTracker/ >SparkStatusTracker</a> when <a href=#creating-instance>created</a> (with itself and the <a href=#_statusStore>AppStatusStore</a>).</p> <h3 id=statustracker><span id=statusTracker> statusTracker<a class=headerlink href=#statustracker title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>statusTracker</span><span class=p>:</span><span class=w> </span><span class=nc>SparkStatusTracker</span>
</code></pre></div> <p><code>statusTracker</code> returns the <a href=#_statusTracker>SparkStatusTracker</a>.</p> <h2 id=local-properties><span id=localProperties><span id=getLocalProperties><span id=setLocalProperties><span id=setLocalProperty> Local Properties<a class=headerlink href=#local-properties title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>localProperties</span><span class=p>:</span><span class=w> </span><span class=nc>InheritableThreadLocal</span><span class=p>[</span><span class=nc>Properties</span><span class=p>]</span>
</code></pre></div> <p><code>SparkContext</code> uses an <code>InheritableThreadLocal</code> (<a href=https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InheritableThreadLocal.html>Java</a>) of key-value pairs of thread-local properties to pass extra information from a parent thread (on the driver) to child threads.</p> <p><code>localProperties</code> is meant to be used by developers using <a href=#setLocalProperty>SparkContext.setLocalProperty</a> and <a href=#getLocalProperty>SparkContext.getLocalProperty</a>.</p> <p>Local Properties are available using <a href=../scheduler/TaskContext/#getLocalProperty>TaskContext.getLocalProperty</a>.</p> <p>Local Properties are available to <a href=../SparkListener/ >SparkListener</a>s using the following events:</p> <ul> <li><a href=../SparkListenerEvent/#SparkListenerJobStart>SparkListenerJobStart</a></li> <li><a href=../SparkListenerEvent/#SparkListenerStageSubmitted>SparkListenerStageSubmitted</a></li> </ul> <p><code>localProperties</code> are passed down when <code>SparkContext</code> is requested for the following:</p> <ul> <li><a href=#runJob>Running Job</a> (that in turn makes the local properties available to the <a href=#dagScheduler>DAGScheduler</a> to <a href=../scheduler/DAGScheduler/#runJob>run a job</a>)</li> <li><a href=#runApproximateJob>Running Approximate Job</a></li> <li><a href=#submitJob>Submitting Job</a></li> <li><a href=#submitMapStage>Submitting MapStage</a></li> </ul> <p><code>DAGScheduler</code> passes down local properties when scheduling:</p> <ul> <li><a href=../scheduler/ShuffleMapTask/#localProperties>ShuffleMapTask</a>s</li> <li><a href=../scheduler/ResultTask/#localProperties>ResultTask</a>s</li> <li><a href=../scheduler/TaskSet/#properties>TaskSet</a>s</li> </ul> <p>Spark (Core) defines the following local properties.</p> <table> <thead> <tr> <th>Name</th> <th>Default Value</th> <th>Setter</th> </tr> </thead> <tbody> <tr> <td><span id=LONG_FORM> <code>callSite.long</code></td> <td></td> <td></td> </tr> <tr> <td><span id=SHORT_FORM><span id=setCallSite> <code>callSite.short</code></td> <td></td> <td><code>SparkContext.setCallSite</code></td> </tr> <tr> <td><span id=SPARK_JOB_DESCRIPTION><span id=setJobDescription> <code>spark.job.description</code></td> <td><a href=#SHORT_FORM>callSite.short</a></td> <td><code>SparkContext.setJobDescription</code> <br> (<code>SparkContext.setJobGroup</code>)</td> </tr> <tr> <td><span id=SPARK_JOB_INTERRUPT_ON_CANCEL> <code>spark.job.interruptOnCancel</code></td> <td></td> <td><code>SparkContext.setJobGroup</code></td> </tr> <tr> <td><span id=SPARK_JOB_GROUP_ID><span id=setJobGroup> <code>spark.jobGroup.id</code></td> <td></td> <td><code>SparkContext.setJobGroup</code></td> </tr> <tr> <td><span id=SPARK_SCHEDULER_POOL> <code>spark.scheduler.pool</code></td> <td></td> <td></td> </tr> </tbody> </table> <h2 id=shuffledrivercomponents><span id=shuffleDriverComponents><span id=_shuffleDriverComponents> ShuffleDriverComponents<a class=headerlink href=#shuffledrivercomponents title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> creates a <a href=../shuffle/ShuffleDriverComponents/ >ShuffleDriverComponents</a> when <a href=#creating-instance>created</a>.</p> <p><code>SparkContext</code> <a href=../shuffle/ShuffleDataIOUtils/#loadShuffleDataIO>loads the ShuffleDataIO</a> that is in turn requested for the <a href=../shuffle/ShuffleDataIO/#driver>ShuffleDriverComponents</a>. <code>SparkContext</code> requests the <code>ShuffleDriverComponents</code> to <a href=../shuffle/ShuffleDriverComponents/#initializeApplication>initialize</a>.</p> <p>The <code>ShuffleDriverComponents</code> is used when:</p> <ul> <li><code>ShuffleDependency</code> is <a href=../rdd/ShuffleDependency/ >created</a></li> <li><code>SparkContext</code> creates the <a href=#cleaner>ContextCleaner</a> (if enabled)</li> </ul> <p><code>SparkContext</code> requests the <code>ShuffleDriverComponents</code> to <a href=../shuffle/ShuffleDriverComponents/#cleanupApplication>clean up</a> when <a href=#stop>stopping</a>.</p> <h2 id=static-files>Static Files<a class=headerlink href=#static-files title="Permanent link">&para;</a></h2> <h3 id=addfile><span id=addFile> addFile<a class=headerlink href=#addfile title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>addFile</span><span class=p>(</span>
<span class=w>  </span><span class=n>path</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>,</span>
<span class=w>  </span><span class=n>recursive</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
<span class=c1>// recursive = false</span>
<span class=n>addFile</span><span class=p>(</span>
<span class=w>  </span><span class=n>path</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
</code></pre></div> <p><code>addFile</code> creates a Hadoop <code>Path</code> from the given <code>path</code>. For a no-schema path, <code>addFile</code> converts it to a canonical form.</p> <p><code>addFile</code> prints out the following WARN message to the logs and exits.</p> <div class=highlight><pre><span></span><code>File with &#39;local&#39; scheme is not supported to add to file server, since it is already available on every node.
</code></pre></div> <p><code>addFile</code>...FIXME</p> <p>In the end, <code>addFile</code> adds the file to the <a href=#addedFiles>addedFiles</a> internal registry (with the current timestamp):</p> <ul> <li> <p>For new files, <code>addFile</code> prints out the following INFO message to the logs, <a href=../Utils/#fetchFile>fetches the file</a> (to the root directory and without using the cache) and <a href=#postEnvironmentUpdate>postEnvironmentUpdate</a>.</p> <div class=highlight><pre><span></span><code>Added file [path] at [key] with timestamp [timestamp]
</code></pre></div> </li> <li> <p>For files that were already added, <code>addFile</code> prints out the following WARN message to the logs:</p> <div class=highlight><pre><span></span><code>The path [path] has been added already. Overwriting of added paths is not supported in the current version.
</code></pre></div> </li> </ul> <p><code>addFile</code> is used when:</p> <ul> <li><code>SparkContext</code> is <a href=../SparkContext-creating-instance-internals/#addFile>created</a></li> </ul> <h3 id=listfiles><span id=listFiles> listFiles<a class=headerlink href=#listfiles title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>listFiles</span><span class=p>():</span><span class=w> </span><span class=nc>Seq</span><span class=p>[</span><span class=nc>String</span><span class=p>]</span>
</code></pre></div> <p><code>listFiles</code> is the <a href=#addedFiles>files added</a>.</p> <h3 id=addedfiles-internal-registry><span id=addedFiles> addedFiles Internal Registry<a class=headerlink href=#addedfiles-internal-registry title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>addedFiles</span><span class=p>:</span><span class=w> </span><span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span><span class=w> </span><span class=nc>Long</span><span class=p>]</span>
</code></pre></div> <p><code>addedFiles</code> is a collection of static files by the timestamp the were <a href=#addFile>added</a> at.</p> <p><code>addedFiles</code> is used when:</p> <ul> <li><code>SparkContext</code> is requested to <a href=#postEnvironmentUpdate>postEnvironmentUpdate</a> and <a href=#listFiles>listFiles</a></li> <li><code>TaskSetManager</code> is <a href=../scheduler/TaskSetManager/#addedFiles>created</a> (and <a href=../scheduler/TaskSetManager/#resourceOffer>resourceOffer</a>)</li> </ul> <h3 id=files><span id=files><span id=_files> files<a class=headerlink href=#files title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>files</span><span class=p>:</span><span class=w> </span><span class=nc>Seq</span><span class=p>[</span><span class=nc>String</span><span class=p>]</span>
</code></pre></div> <p><code>files</code> is a collection of file paths defined by <a href=../configuration-properties/#spark.files>spark.files</a> configuration property.</p> <h2 id=posting-sparklistenerenvironmentupdate-event><span id=postEnvironmentUpdate> Posting SparkListenerEnvironmentUpdate Event<a class=headerlink href=#posting-sparklistenerenvironmentupdate-event title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>postEnvironmentUpdate</span><span class=p>():</span><span class=w> </span><span class=nc>Unit</span>
</code></pre></div> <p><code>postEnvironmentUpdate</code>...FIXME</p> <p><code>postEnvironmentUpdate</code> is used when:</p> <ul> <li><code>SparkContext</code> is requested to <a href=#addFile>addFile</a> and <a href=#addJar>addJar</a></li> </ul> <h2 id=getorcreate-utility><span id=getOrCreate> getOrCreate Utility<a class=headerlink href=#getorcreate-utility title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>getOrCreate</span><span class=p>():</span><span class=w> </span><span class=nc>SparkContext</span>
<span class=n>getOrCreate</span><span class=p>(</span>
<span class=w>  </span><span class=n>config</span><span class=p>:</span><span class=w> </span><span class=nc>SparkConf</span><span class=p>):</span><span class=w> </span><span class=nc>SparkContext</span>
</code></pre></div> <p><code>getOrCreate</code>...FIXME</p> <h2 id=plugincontainer><span id=_plugins><span id=PluginContainer> PluginContainer<a class=headerlink href=#plugincontainer title="Permanent link">&para;</a></h2> <p><code>SparkContext</code> creates a <a href=../plugins/PluginContainer/ >PluginContainer</a> when <a href=#creating-instance>created</a>.</p> <p><code>PluginContainer</code> is created (for the driver where <code>SparkContext</code> lives) using <a href=../plugins/PluginContainer/#apply>PluginContainer.apply</a> utility.</p> <p><code>PluginContainer</code> is then requested to <a href=../plugins/PluginContainer/#registerMetrics>registerMetrics</a> with the <a href=#applicationId>applicationId</a>.</p> <p><code>PluginContainer</code> is requested to <a href=../plugins/PluginContainer/#shutdown>shutdown</a> when <code>SparkContext</code> is requested to <a href=#stop>stop</a>.</p> <h2 id=creating-schedulerbackend-and-taskscheduler><span id=createTaskScheduler> Creating SchedulerBackend and TaskScheduler<a class=headerlink href=#creating-schedulerbackend-and-taskscheduler title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>createTaskScheduler</span><span class=p>(</span>
<span class=w>  </span><span class=n>sc</span><span class=p>:</span><span class=w> </span><span class=nc>SparkContext</span><span class=p>,</span>
<span class=w>  </span><span class=n>master</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>,</span>
<span class=w>  </span><span class=n>deployMode</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>):</span><span class=w> </span><span class=p>(</span><span class=nc>SchedulerBackend</span><span class=p>,</span><span class=w> </span><span class=nc>TaskScheduler</span><span class=p>)</span>
</code></pre></div> <p><code>createTaskScheduler</code> creates a <a href=../scheduler/SchedulerBackend/ >SchedulerBackend</a> and a <a href=../scheduler/TaskScheduler/ >TaskScheduler</a> for the given master URL and deployment mode.</p> <p><img alt="SparkContext creates Task Scheduler and Scheduler Backend" src=../images/diagrams/sparkcontext-createtaskscheduler.png></p> <p>Internally, <code>createTaskScheduler</code> branches off per the given master URL to select the requested implementations.</p> <p><code>createTaskScheduler</code> accepts the following master URLs:</p> <ul> <li><code>local</code> - local mode with 1 thread only</li> <li><code>local[n]</code> or <code>local[*]</code> - local mode with <code>n</code> threads</li> <li><code>local[n, m]</code> or <code>local[*, m]</code> -- local mode with <code>n</code> threads and <code>m</code> number of failures</li> <li><code>spark://hostname:port</code> for Spark Standalone</li> <li><code>local-cluster[n, m, z]</code> -- local cluster with <code>n</code> workers, <code>m</code> cores per worker, and <code>z</code> memory per worker</li> <li>Other URLs are simply handed over to <a href=#getClusterManager>getClusterManager</a> to load an external cluster manager if available</li> </ul> <p><code>createTaskScheduler</code> is used when <code>SparkContext</code> is <a href=#creating-instance>created</a>.</p> <h2 id=loading-externalclustermanager><span id=getClusterManager> Loading ExternalClusterManager<a class=headerlink href=#loading-externalclustermanager title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>getClusterManager</span><span class=p>(</span>
<span class=w>  </span><span class=n>url</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>):</span><span class=w> </span><span class=nc>Option</span><span class=p>[</span><span class=nc>ExternalClusterManager</span><span class=p>]</span>
</code></pre></div> <p><code>getClusterManager</code> uses Java's <a href=https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html>ServiceLoader</a> to find and load an <a href=../scheduler/ExternalClusterManager/ >ExternalClusterManager</a> that <a href=../scheduler/ExternalClusterManager/#canCreate>supports</a> the given master URL.</p> <div class="admonition note"> <p class=admonition-title>ExternalClusterManager Service Discovery</p> <p>For <a href=https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html>ServiceLoader</a> to find <a href=../scheduler/ExternalClusterManager/ >ExternalClusterManager</a>s, they have to be registered using the following file:</p> <div class=highlight><pre><span></span><code>META-INF/services/org.apache.spark.scheduler.ExternalClusterManager
</code></pre></div> </div> <p><code>getClusterManager</code> throws a <code>SparkException</code> when multiple cluster managers were found:</p> <div class=highlight><pre><span></span><code>Multiple external cluster managers registered for the url [url]: [serviceLoaders]
</code></pre></div> <p><code>getClusterManager</code>is used when <code>SparkContext</code> is requested for a <a href=#createTaskScheduler>SchedulerBackend and TaskScheduler</a>.</p> <h2 id=running-job-synchronously><span id=runJob> Running Job Synchronously<a class=headerlink href=#running-job-synchronously title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>func</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>TaskContext</span><span class=p>,</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>):</span><span class=w> </span><span class=nc>Array</span><span class=p>[</span><span class=nc>U</span><span class=p>]</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>processPartition</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>TaskContext</span><span class=p>,</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>,</span>
<span class=w>  </span><span class=n>resultHandler</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>Int</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>Unit</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>func</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>TaskContext</span><span class=p>,</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>,</span>
<span class=w>  </span><span class=n>partitions</span><span class=p>:</span><span class=w> </span><span class=nc>Seq</span><span class=p>[</span><span class=nc>Int</span><span class=p>]):</span><span class=w> </span><span class=nc>Array</span><span class=p>[</span><span class=nc>U</span><span class=p>]</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>func</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>TaskContext</span><span class=p>,</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>,</span>
<span class=w>  </span><span class=n>partitions</span><span class=p>:</span><span class=w> </span><span class=nc>Seq</span><span class=p>[</span><span class=nc>Int</span><span class=p>],</span>
<span class=w>  </span><span class=n>resultHandler</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>Int</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>Unit</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>func</span><span class=p>:</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>]</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>):</span><span class=w> </span><span class=nc>Array</span><span class=p>[</span><span class=nc>U</span><span class=p>]</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>processPartition</span><span class=p>:</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>]</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>,</span>
<span class=w>  </span><span class=n>resultHandler</span><span class=p>:</span><span class=w> </span><span class=p>(</span><span class=nc>Int</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>Unit</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
<span class=n>runJob</span><span class=p>[</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=nc>U</span><span class=p>:</span><span class=w> </span><span class=nc>ClassTag</span><span class=p>](</span>
<span class=w>  </span><span class=n>rdd</span><span class=p>:</span><span class=w> </span><span class=nc>RDD</span><span class=p>[</span><span class=nc>T</span><span class=p>],</span>
<span class=w>  </span><span class=n>func</span><span class=p>:</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>T</span><span class=p>]</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nc>U</span><span class=p>,</span>
<span class=w>  </span><span class=n>partitions</span><span class=p>:</span><span class=w> </span><span class=nc>Seq</span><span class=p>[</span><span class=nc>Int</span><span class=p>]):</span><span class=w> </span><span class=nc>Array</span><span class=p>[</span><span class=nc>U</span><span class=p>]</span>
</code></pre></div> <p><img alt="Executing action" src=../images/spark-runjob.png></p> <p><code>runJob</code> finds the <a href=#getCallSite>call site</a> and <a href=#clean>cleans up</a> the given <code>func</code> function.</p> <p><code>runJob</code> prints out the following INFO message to the logs:</p> <div class=highlight><pre><span></span><code>Starting job: [callSite]
</code></pre></div> <p>With <a href=../configuration-properties/#spark.logLineage>spark.logLineage</a> enabled, <code>runJob</code> requests the given <code>RDD</code> for the <a href=../rdd/RDD/#toDebugString>recursive dependencies</a> and prints out the following INFO message to the logs:</p> <div class=highlight><pre><span></span><code>RDD&#39;s recursive dependencies:
[toDebugString]
</code></pre></div> <p><code>runJob</code> requests the <a href=#dagScheduler>DAGScheduler</a> to <a href=../scheduler/DAGScheduler/#runJob>run a job</a>.</p> <p><code>runJob</code> requests the <a href=#progressBar>ConsoleProgressBar</a> to <a href=../ConsoleProgressBar/#finishAll>finishAll</a> if defined.</p> <p>In the end, <code>runJob</code> requests the given <code>RDD</code> to <a href=../rdd/RDD/#doCheckpoint>doCheckpoint</a>.</p> <p><code>runJob</code> throws an <code>IllegalStateException</code> when <code>SparkContext</code> is <a href=#stopped>stopped</a>:</p> <div class=highlight><pre><span></span><code>SparkContext has been shutdown
</code></pre></div> <h3 id=demo><span id=runJob-demo> Demo<a class=headerlink href=#demo title="Permanent link">&para;</a></h3> <p><code>runJob</code> is essentially executing a <code>func</code> function on all or a subset of partitions of an RDD and returning the result as an array (with elements being the results per partition).</p> <div class=highlight><pre><span></span><code><span class=n>sc</span><span class=p>.</span><span class=n>setLocalProperty</span><span class=p>(</span><span class=s>&quot;callSite.short&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;runJob Demo&quot;</span><span class=p>)</span>

<span class=kd>val</span><span class=w> </span><span class=n>partitionsNumber</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span>
<span class=kd>val</span><span class=w> </span><span class=n>rdd</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sc</span><span class=p>.</span><span class=n>parallelize</span><span class=p>(</span>
<span class=w>  </span><span class=nc>Seq</span><span class=p>(</span><span class=s>&quot;hello world&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;nice to see you&quot;</span><span class=p>),</span>
<span class=w>  </span><span class=n>numSlices</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>partitionsNumber</span><span class=p>)</span>

<span class=k>import</span><span class=w> </span><span class=nn>org</span><span class=p>.</span><span class=nn>apache</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nc>TaskContext</span>
<span class=kd>val</span><span class=w> </span><span class=n>func</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>t</span><span class=p>:</span><span class=w> </span><span class=nc>TaskContext</span><span class=p>,</span><span class=w> </span><span class=n>ss</span><span class=p>:</span><span class=w> </span><span class=nc>Iterator</span><span class=p>[</span><span class=nc>String</span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>1</span>
<span class=kd>val</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sc</span><span class=p>.</span><span class=n>runJob</span><span class=p>(</span><span class=n>rdd</span><span class=p>,</span><span class=w> </span><span class=n>func</span><span class=p>)</span>
<span class=n>assert</span><span class=p>(</span><span class=n>result</span><span class=p>.</span><span class=n>length</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>partitionsNumber</span><span class=p>)</span>

<span class=n>sc</span><span class=p>.</span><span class=n>clearCallSite</span><span class=p>()</span>
</code></pre></div> <h2 id=call-site><span id=getCallSite> Call Site<a class=headerlink href=#call-site title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>getCallSite</span><span class=p>():</span><span class=w> </span><span class=nc>CallSite</span>
</code></pre></div> <p><code>getCallSite</code>...FIXME</p> <p><code>getCallSite</code>is used when:</p> <ul> <li><code>SparkContext</code> is requested to <a href=#broadcast>broadcast</a>, <a href=#runJob>runJob</a>, <a href=#runApproximateJob>runApproximateJob</a>, <a href=#submitJob>submitJob</a> and <a href=#submitMapStage>submitMapStage</a></li> <li><code>AsyncRDDActions</code> is requested to <a href=../rdd/AsyncRDDActions/#takeAsync>takeAsync</a></li> <li><code>RDD</code> is <a href=../rdd/RDD/#creationSite>created</a></li> </ul> <h2 id=closure-cleaning><span id=clean> Closure Cleaning<a class=headerlink href=#closure-cleaning title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>clean</span><span class=p>(</span>
<span class=w>  </span><span class=n>f</span><span class=p>:</span><span class=w> </span><span class=nc>F</span><span class=p>,</span>
<span class=w>  </span><span class=n>checkSerializable</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>):</span><span class=w> </span><span class=nc>F</span>
</code></pre></div> <p><code>clean</code> cleans up the given <code>f</code> closure (using <code>ClosureCleaner.clean</code> utility).</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Enable <code>DEBUG</code> logging level for <code>org.apache.spark.util.ClosureCleaner</code> logger to see what happens inside the class.</p> <p>Add the following line to <code>conf/log4j.properties</code>:</p> <div class=highlight><pre><span></span><code>log4j.logger.org.apache.spark.util.ClosureCleaner=DEBUG
</code></pre></div> <p>Refer to <a href=../spark-logging/ >Logging</a>.</p> </div> <p>With <code>DEBUG</code> logging level you should see the following messages in the logs:</p> <div class=highlight><pre><span></span><code>+++ Cleaning closure [func] ([func.getClass.getName]) +++
 + declared fields: [declaredFields.size]
     [field]
 ...
+++ closure [func] ([func.getClass.getName]) is now cleaned +++
</code></pre></div> <h2 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h2> <p>Enable <code>ALL</code> logging level for <code>org.apache.spark.SparkContext</code> logger to see what happens inside.</p> <p>Add the following line to <code>conf/log4j.properties</code>:</p> <div class=highlight><pre><span></span><code>log4j.logger.org.apache.spark.SparkContext=ALL
</code></pre></div> <p>Refer to <a href=../spark-logging/ >Logging</a>.</p> <h2 id=to-be-reviewed>To Be Reviewed<a class=headerlink href=#to-be-reviewed title="Permanent link">&para;</a></h2> <p>SparkContext offers the following functions:</p> <ul> <li> <p>Getting current status of a Spark application ** &lt;<env, sparkenv>&gt; ** &lt;<getconf, sparkconf>&gt; ** &lt;<master, deployment environment (as master url)>&gt; ** &lt;<appname, application name>&gt; ** &lt;<applicationattemptid, unique identifier of execution attempt>&gt; ** &lt;<deploymode, deploy mode>&gt; ** &lt;<defaultparallelism, default level of parallelism>&gt; that specifies the number of spark-rdd-partitions.md[partitions] in RDDs when they are created without specifying the number explicitly by a user. ** &lt;<sparkuser, spark user>&gt; ** &lt;<starttime, the time (in milliseconds) when sparkcontext was created>&gt; ** &lt;<uiweburl, url of web ui>&gt; ** &lt;<version, spark version>&gt; ** &lt;<getexecutorstoragestatus, storage status>&gt;</p> </li> <li> <p>Setting Configuration ** &lt;<master-url, master url>&gt; ** <a href=#localProperties>Local Properties</a> ** &lt;<setjobgroup, setting local properties to group spark jobs>&gt; ** &lt;<setting-default-log-level, default logging level>&gt;</p> </li> <li> <p>Creating Distributed Entities ** &lt;<creating-rdds, rdds>&gt; ** &lt;<creating-accumulators, accumulators>&gt; ** &lt;<broadcast, broadcast variables>&gt;</p> </li> <li> <p>Accessing services, e.g. &lt;<statusstore, appstatusstore>&gt;, &lt;<taskscheduler, taskscheduler>&gt;, scheduler:LiveListenerBus.md[], storage:BlockManager.md[BlockManager], scheduler:SchedulerBackend.md[SchedulerBackends], shuffle:ShuffleManager.md[ShuffleManager] and the &lt;<cleaner, optional contextcleaner>&gt;.</p> </li> <li> <p>&lt;<runjob, running jobs synchronously>&gt;</p> </li> <li>&lt;<submitjob, submitting jobs asynchronously>&gt;</li> <li>&lt;<canceljob, cancelling a job>&gt;</li> <li>&lt;<cancelstage, cancelling a stage>&gt;</li> <li>&lt;<custom-schedulers, assigning custom scheduler backend, taskscheduler and dagscheduler>&gt;</li> <li>&lt;<closure-cleaning, closure cleaning>&gt;</li> <li>&lt;<getpersistentrdds, accessing persistent rdds>&gt;</li> <li>&lt;<unpersist, unpersisting rdds, i.e. marking rdds as non-persistent>&gt;</li> <li>&lt;<addsparklistener, registering sparklistener>&gt;</li> <li>&lt;<dynamic-allocation, programmable dynamic allocation>&gt;</li> </ul> <p>TIP: Read the scaladoc of <a href=http://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.SparkContext[org.apache.spark.SparkContext>http://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.SparkContext[org.apache.spark.SparkContext</a>].</p> <h3 id=removing-rdd-blocks-from-blockmanagermaster><span id=unpersistRDD> Removing RDD Blocks from BlockManagerMaster<a class=headerlink href=#removing-rdd-blocks-from-blockmanagermaster title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>unpersistRDD</span><span class=p>(</span>
<span class=w>  </span><span class=n>rddId</span><span class=p>:</span><span class=w> </span><span class=nc>Int</span><span class=p>,</span>
<span class=w>  </span><span class=n>blocking</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
</code></pre></div> <p><code>unpersistRDD</code> requests <code>BlockManagerMaster</code> to storage:BlockManagerMaster.md#removeRdd[remove the blocks for the RDD] (given <code>rddId</code>).</p> <p>NOTE: <code>unpersistRDD</code> uses <code>SparkEnv</code> core:SparkEnv.md#blockManager[to access the current <code>BlockManager</code>] that is in turn used to storage:BlockManager.md#master[access the current <code>BlockManagerMaster</code>].</p> <p><code>unpersistRDD</code> removes <code>rddId</code> from &lt;<persistentrdds, persistentrdds>&gt; registry.</p> <p>In the end, <code>unpersistRDD</code> posts a SparkListener.md#SparkListenerUnpersistRDD[SparkListenerUnpersistRDD] (with <code>rddId</code>) to &lt;<listenerbus, livelistenerbus event bus>&gt;.</p> <h1 id=note>[NOTE]<a class=headerlink href=#note title="Permanent link">&para;</a></h1> <p><code>unpersistRDD</code> is used when:</p> <ul> <li><code>ContextCleaner</code> does core:ContextCleaner.md#doCleanupRDD[doCleanupRDD]</li> <li> <h1 id=sparkcontext-ie-marks-an-rdd-as-non-persistent>SparkContext &lt;<unpersist, unpersists an rdd>&gt; (i.e. marks an RDD as non-persistent)<a class=headerlink href=#sparkcontext-ie-marks-an-rdd-as-non-persistent title="Permanent link">&para;</a></h1> </li> </ul> <p>== [[applicationId]] Unique Identifier of Spark Application -- <code>applicationId</code> Method</p> <p>CAUTION: FIXME</p> <p>== [[postApplicationStart]] <code>postApplicationStart</code> Internal Method</p> <h2 id=source-scala>[source, scala]<a class=headerlink href=#source-scala title="Permanent link">&para;</a></h2> <h2 id=postapplicationstart-unit>postApplicationStart(): Unit<a class=headerlink href=#postapplicationstart-unit title="Permanent link">&para;</a></h2> <p><code>postApplicationStart</code>...FIXME</p> <p><code>postApplicationStart</code> is used exclusively when <code>SparkContext</code> is created.</p> <p>== [[postApplicationEnd]] <code>postApplicationEnd</code> Method</p> <p>CAUTION: FIXME</p> <p>== [[clearActiveContext]] <code>clearActiveContext</code> Method</p> <p>CAUTION: FIXME</p> <p>== [[getPersistentRDDs]] Accessing persistent RDDs -- <code>getPersistentRDDs</code> Method</p> <h2 id=source-scala_1>[source, scala]<a class=headerlink href=#source-scala_1 title="Permanent link">&para;</a></h2> <h2 id=getpersistentrdds-mapint-rdd_>getPersistentRDDs: Map[Int, RDD[_]]<a class=headerlink href=#getpersistentrdds-mapint-rdd_ title="Permanent link">&para;</a></h2> <p><code>getPersistentRDDs</code> returns the collection of RDDs that have marked themselves as persistent via spark-rdd-caching.md#cache[cache].</p> <p>Internally, <code>getPersistentRDDs</code> returns &lt;<persistentrdds, persistentrdds>&gt; internal registry.</p> <p>== [[cancelJob]] Cancelling Job -- <code>cancelJob</code> Method</p> <h2 id=source-scala_2>[source, scala]<a class=headerlink href=#source-scala_2 title="Permanent link">&para;</a></h2> <h2 id=canceljobjobid-int>cancelJob(jobId: Int)<a class=headerlink href=#canceljobjobid-int title="Permanent link">&para;</a></h2> <p><code>cancelJob</code> requests <code>DAGScheduler</code> scheduler:DAGScheduler.md#cancelJob[to cancel a Spark job].</p> <p>== [[cancelStage]] Cancelling Stage -- <code>cancelStage</code> Methods</p> <h2 id=source-scala_3>[source, scala]<a class=headerlink href=#source-scala_3 title="Permanent link">&para;</a></h2> <p>cancelStage(stageId: Int): Unit cancelStage(stageId: Int, reason: String): Unit</p> <hr> <p><code>cancelStage</code> simply requests <code>DAGScheduler</code> scheduler:DAGScheduler.md#cancelJob[to cancel a Spark stage] (with an optional <code>reason</code>).</p> <p>NOTE: <code>cancelStage</code> is used when <code>StagesTab</code> spark-webui-StagesTab.md#handleKillRequest[handles a kill request] (from a user in web UI).</p> <h2 id=programmable-dynamic-allocation><span id=dynamic-allocation> Programmable Dynamic Allocation<a class=headerlink href=#programmable-dynamic-allocation title="Permanent link">&para;</a></h2> <p>SparkContext offers the following methods as the developer API for <a href=../dynamic-allocation/ >Dynamic Allocation of Executors</a>:</p> <ul> <li>&lt;<requestexecutors, requestexecutors>&gt;</li> <li>&lt;<killexecutors, killexecutors>&gt;</li> <li>&lt;<requesttotalexecutors, requesttotalexecutors>&gt;</li> <li>(private!) &lt;<getexecutorids, getexecutorids>&gt;</li> </ul> <p>=== [[requestExecutors]] Requesting New Executors -- <code>requestExecutors</code> Method</p> <h2 id=source-scala_4>[source, scala]<a class=headerlink href=#source-scala_4 title="Permanent link">&para;</a></h2> <h2 id=requestexecutorsnumadditionalexecutors-int-boolean>requestExecutors(numAdditionalExecutors: Int): Boolean<a class=headerlink href=#requestexecutorsnumadditionalexecutors-int-boolean title="Permanent link">&para;</a></h2> <p><code>requestExecutors</code> requests <code>numAdditionalExecutors</code> executors from scheduler:CoarseGrainedSchedulerBackend.md[CoarseGrainedSchedulerBackend].</p> <p>=== [[killExecutors]] Requesting to Kill Executors -- <code>killExecutors</code> Method</p> <h2 id=source-scala_5>[source, scala]<a class=headerlink href=#source-scala_5 title="Permanent link">&para;</a></h2> <h2 id=killexecutorsexecutorids-seqstring-boolean>killExecutors(executorIds: Seq[String]): Boolean<a class=headerlink href=#killexecutorsexecutorids-seqstring-boolean title="Permanent link">&para;</a></h2> <p>CAUTION: FIXME</p> <p>=== [[requestTotalExecutors]] Requesting Total Executors -- <code>requestTotalExecutors</code> Method</p> <h2 id=source-scala_6>[source, scala]<a class=headerlink href=#source-scala_6 title="Permanent link">&para;</a></h2> <p>requestTotalExecutors( numExecutors: Int, localityAwareTasks: Int, hostToLocalTaskCount: Map[String, Int]): Boolean</p> <hr> <p><code>requestTotalExecutors</code> is a <code>private[spark]</code> method that scheduler:CoarseGrainedSchedulerBackend.md#requestTotalExecutors[requests the exact number of executors from a coarse-grained scheduler backend].</p> <p>NOTE: It works for scheduler:CoarseGrainedSchedulerBackend.md[coarse-grained scheduler backends] only.</p> <p>When called for other scheduler backends you should see the following WARN message in the logs:</p> <div class=highlight><pre><span></span><code>Requesting executors is only supported in coarse-grained mode
</code></pre></div> <h2 id=executor-ids><span id=getExecutorIds> Executor IDs<a class=headerlink href=#executor-ids title="Permanent link">&para;</a></h2> <p><code>getExecutorIds</code> is a <code>private[spark]</code> method that is part of <a href=../dynamic-allocation/ExecutorAllocationClient/ >ExecutorAllocationClient contract</a>. It simply <a href=scheduler:CoarseGrainedSchedulerBackend.md#getExecutorIds>passes the call on to the current coarse-grained scheduler backend, i.e. calls <code>getExecutorIds</code></a>.</p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>It works for <a href=scheduler:CoarseGrainedSchedulerBackend.md>coarse-grained scheduler backends</a> only.</p> </div> <p>When called for other scheduler backends you should see the following WARN message in the logs:</p> <div class=highlight><pre><span></span><code>Requesting executors is only supported in coarse-grained mode
</code></pre></div> <p>CAUTION: FIXME Why does SparkContext implement the method for coarse-grained scheduler backends? Why doesn't SparkContext throw an exception when the method is called? Nobody seems to be using it (!)</p> <p>=== [[getOrCreate]] Getting Existing or Creating New SparkContext -- <code>getOrCreate</code> Methods</p> <h2 id=source-scala_7>[source, scala]<a class=headerlink href=#source-scala_7 title="Permanent link">&para;</a></h2> <p>getOrCreate(): SparkContext getOrCreate(conf: SparkConf): SparkContext</p> <hr> <p><code>getOrCreate</code> methods allow you to get the existing SparkContext or create a new one.</p> <h2 id=source-scala_8>[source, scala]<a class=headerlink href=#source-scala_8 title="Permanent link">&para;</a></h2> <p>import org.apache.spark.SparkContext val sc = SparkContext.getOrCreate()</p> <p>// Using an explicit SparkConf object import org.apache.spark.SparkConf val conf = new SparkConf() .setMaster("local[*]") .setAppName("SparkMe App") val sc = SparkContext.getOrCreate(conf)</p> <hr> <p>The no-param <code>getOrCreate</code> method requires that the two mandatory Spark settings - &lt;<master, master>&gt; and &lt;<appname, application name>&gt; - are specified using spark-submit.md[spark-submit].</p> <p>=== [[constructors]] Constructors</p> <h2 id=source-scala_9>[source, scala]<a class=headerlink href=#source-scala_9 title="Permanent link">&para;</a></h2> <p>SparkContext() SparkContext(conf: SparkConf) SparkContext(master: String, appName: String, conf: SparkConf) SparkContext( master: String, appName: String, sparkHome: String = null, jars: Seq[String] = Nil, environment: Map[String, String] = Map())</p> <hr> <p>You can create a SparkContext instance using the four constructors.</p> <h2 id=source-scala_10>[source, scala]<a class=headerlink href=#source-scala_10 title="Permanent link">&para;</a></h2> <p>import org.apache.spark.SparkConf val conf = new SparkConf() .setMaster("local[*]") .setAppName("SparkMe App")</p> <p>import org.apache.spark.SparkContext val sc = new SparkContext(conf)</p> <hr> <p>When a Spark context starts up you should see the following INFO in the logs (amongst the other messages that come from the Spark services):</p> <div class=highlight><pre><span></span><code>Running Spark version 2.0.0-SNAPSHOT
</code></pre></div> <p>NOTE: Only one SparkContext may be running in a single JVM (check out <a href=https://issues.apache.org/jira/browse/SPARK-2243[SPARK-2243>https://issues.apache.org/jira/browse/SPARK-2243[SPARK-2243</a> Support multiple SparkContexts in the same JVM]). Sharing access to a SparkContext in the JVM is the solution to share data within Spark (without relying on other means of data sharing using external data stores).</p> <p>== [[appName]] Application Name -- <code>appName</code> Method</p> <h2 id=source-scala_11>[source, scala]<a class=headerlink href=#source-scala_11 title="Permanent link">&para;</a></h2> <h2 id=appname-string>appName: String<a class=headerlink href=#appname-string title="Permanent link">&para;</a></h2> <p><code>appName</code> gives the value of the mandatory SparkConf.md#spark.app.name[spark.app.name] setting.</p> <p>NOTE: <code>appName</code> is used when spark-standalone.md#SparkDeploySchedulerBackend[<code>SparkDeploySchedulerBackend</code> starts], spark-webui-SparkUI.md#createLiveUI[<code>SparkUI</code> creates a web UI], when <code>postApplicationStart</code> is executed, and for Mesos and checkpointing in Spark Streaming.</p> <p>== [[applicationAttemptId]] Unique Identifier of Execution Attempt -- <code>applicationAttemptId</code> Method</p> <h2 id=source-scala_12>[source, scala]<a class=headerlink href=#source-scala_12 title="Permanent link">&para;</a></h2> <h2 id=applicationattemptid-optionstring>applicationAttemptId: Option[String]<a class=headerlink href=#applicationattemptid-optionstring title="Permanent link">&para;</a></h2> <p><code>applicationAttemptId</code> gives the unique identifier of the execution attempt of a Spark application.</p> <h1 id=note_1>[NOTE]<a class=headerlink href=#note_1 title="Permanent link">&para;</a></h1> <p><code>applicationAttemptId</code> is used when:</p> <ul> <li>scheduler:ShuffleMapTask.md#creating-instance[ShuffleMapTask] and scheduler:ResultTask.md#creating-instance[ResultTask] are created</li> </ul> <h1 id=sparkcontext_1>* SparkContext &lt;<postapplicationstart, announces that a spark application has started>&gt;<a class=headerlink href=#sparkcontext_1 title="Permanent link">&para;</a></h1> <p>== [[getExecutorStorageStatus]] Storage Status (of All BlockManagers) -- <code>getExecutorStorageStatus</code> Method</p> <h2 id=source-scala_13>[source, scala]<a class=headerlink href=#source-scala_13 title="Permanent link">&para;</a></h2> <h2 id=getexecutorstoragestatus-arraystoragestatus>getExecutorStorageStatus: Array[StorageStatus]<a class=headerlink href=#getexecutorstoragestatus-arraystoragestatus title="Permanent link">&para;</a></h2> <p><code>getExecutorStorageStatus</code> storage:BlockManagerMaster.md#getStorageStatus[requests <code>BlockManagerMaster</code> for storage status] (of all storage:BlockManager.md[BlockManagers]).</p> <p>NOTE: <code>getExecutorStorageStatus</code> is a developer API.</p> <p><code>getExecutorStorageStatus</code> is used when:</p> <ul> <li> <p><code>SparkContext</code> is requested for <a href=#getRDDStorageInfo>storage status of cached RDDs</a></p> </li> <li> <p><code>SparkStatusTracker</code> is requested for <a href=../SparkStatusTracker/#getExecutorInfos>known executors</a></p> </li> </ul> <p>== [[getPoolForName]] Schedulable (Pool) by Name -- <code>getPoolForName</code> Method</p> <h2 id=source-scala_14>[source, scala]<a class=headerlink href=#source-scala_14 title="Permanent link">&para;</a></h2> <h2 id=getpoolfornamepool-string-optionschedulable>getPoolForName(pool: String): Option[Schedulable]<a class=headerlink href=#getpoolfornamepool-string-optionschedulable title="Permanent link">&para;</a></h2> <p><code>getPoolForName</code> returns a spark-scheduler-Schedulable.md[Schedulable] by the <code>pool</code> name, if one exists.</p> <p>NOTE: <code>getPoolForName</code> is part of the Developer's API and may change in the future.</p> <p>Internally, it requests the scheduler:TaskScheduler.md#rootPool[TaskScheduler for the root pool] and spark-scheduler-Pool.md#schedulableNameToSchedulable[looks up the <code>Schedulable</code> by the <code>pool</code> name].</p> <p>It is exclusively used to spark-webui-PoolPage.md[show pool details in web UI (for a stage)].</p> <p>== [[getAllPools]] All Schedulable Pools -- <code>getAllPools</code> Method</p> <h2 id=source-scala_15>[source, scala]<a class=headerlink href=#source-scala_15 title="Permanent link">&para;</a></h2> <h2 id=getallpools-seqschedulable>getAllPools: Seq[Schedulable]<a class=headerlink href=#getallpools-seqschedulable title="Permanent link">&para;</a></h2> <p><code>getAllPools</code> collects the spark-scheduler-Pool.md[Pools] in scheduler:TaskScheduler.md#contract[TaskScheduler.rootPool].</p> <p>NOTE: <code>TaskScheduler.rootPool</code> is part of the scheduler:TaskScheduler.md#contract[TaskScheduler Contract].</p> <p>NOTE: <code>getAllPools</code> is part of the Developer's API.</p> <p>CAUTION: FIXME Where is the method used?</p> <p>NOTE: <code>getAllPools</code> is used to calculate pool names for spark-webui-AllStagesPage.md#pool-names[Stages tab in web UI] with FAIR scheduling mode used.</p> <p>== [[defaultParallelism]] Default Level of Parallelism</p> <h2 id=source-scala_16>[source, scala]<a class=headerlink href=#source-scala_16 title="Permanent link">&para;</a></h2> <h2 id=defaultparallelism-int>defaultParallelism: Int<a class=headerlink href=#defaultparallelism-int title="Permanent link">&para;</a></h2> <p><code>defaultParallelism</code> requests &lt;<taskscheduler, taskscheduler>&gt; for the scheduler:TaskScheduler.md#defaultParallelism[default level of parallelism].</p> <p>NOTE: <em>Default level of parallelism</em> specifies the number of spark-rdd-partitions.md[partitions] in RDDs when created without specifying them explicitly by a user.</p> <h1 id=note_2>[NOTE]<a class=headerlink href=#note_2 title="Permanent link">&para;</a></h1> <p><code>defaultParallelism</code> is used in &lt;<parallelize, sparkcontext.parallelize>&gt;, <code>SparkContext.range</code> and &lt;<makerdd, sparkcontext.makerdd>&gt; (as well as Spark Streaming's <code>DStream.countByValue</code> and <code>DStream.countByValueAndWindow</code> et al.).</p> <h1 id=defaultparallelism-is-also-used-to-instantiate-rddhashpartitionermdhashpartitioner-and-for-the-minimum-number-of-partitions-in-rddhadooprddmdhadooprdds><code>defaultParallelism</code> is also used to instantiate rdd:HashPartitioner.md[HashPartitioner] and for the minimum number of partitions in rdd:HadoopRDD.md[HadoopRDDs].<a class=headerlink href=#defaultparallelism-is-also-used-to-instantiate-rddhashpartitionermdhashpartitioner-and-for-the-minimum-number-of-partitions-in-rddhadooprddmdhadooprdds title="Permanent link">&para;</a></h1> <p>== [[taskScheduler]] Current Spark Scheduler (aka TaskScheduler) -- <code>taskScheduler</code> Property</p> <h2 id=source-scala_17>[source, scala]<a class=headerlink href=#source-scala_17 title="Permanent link">&para;</a></h2> <p>taskScheduler: TaskScheduler taskScheduler_=(ts: TaskScheduler): Unit</p> <hr> <p><code>taskScheduler</code> manages (i.e. reads or writes) &lt;&lt;_taskScheduler, _taskScheduler&gt;&gt; internal property.</p> <p>== [[version]] Getting Spark Version -- <code>version</code> Property</p> <h2 id=source-scala_18>[source, scala]<a class=headerlink href=#source-scala_18 title="Permanent link">&para;</a></h2> <h2 id=version-string>version: String<a class=headerlink href=#version-string title="Permanent link">&para;</a></h2> <p><code>version</code> returns the Spark version this SparkContext uses.</p> <p>== [[makeRDD]] <code>makeRDD</code> Method</p> <p>CAUTION: FIXME</p> <p>== [[submitJob]] Submitting Jobs Asynchronously -- <code>submitJob</code> Method</p> <h2 id=source-scala_19>[source, scala]<a class=headerlink href=#source-scala_19 title="Permanent link">&para;</a></h2> <p>submitJob<a href="rdd: RDD[T],
  processPartition: Iterator[T] => U,
  partitions: Seq[Int],
  resultHandler: (Int, U) => Unit,
  resultFunc: => R">T, U, R</a>: SimpleFutureAction[R]</p> <hr> <p><code>submitJob</code> submits a job in an asynchronous, non-blocking way to scheduler:DAGScheduler.md#submitJob[DAGScheduler].</p> <p>It cleans the <code>processPartition</code> input function argument and returns an instance of spark-rdd-actions.md#FutureAction[SimpleFutureAction] that holds the <a href=../scheduler/JobWaiter/ >JobWaiter</a> instance.</p> <p>CAUTION: FIXME What are <code>resultFunc</code>?</p> <p>It is used in:</p> <ul> <li>spark-rdd-actions.md#AsyncRDDActions[AsyncRDDActions] methods</li> <li>spark-streaming/spark-streaming.md[Spark Streaming] for spark-streaming/spark-streaming-receivertracker.md#ReceiverTrackerEndpoint-startReceiver[ReceiverTrackerEndpoint.startReceiver]</li> </ul> <p>== [[spark-configuration]] Spark Configuration</p> <p>CAUTION: FIXME</p> <p>== [[sparkcontext-and-rdd]] SparkContext and RDDs</p> <p>You use a Spark context to create RDDs (see &lt;<creating-rdds, creating rdd>&gt;).</p> <p>When an RDD is created, it belongs to and is completely owned by the Spark context it originated from. RDDs can't by design be shared between SparkContexts.</p> <p>.A Spark context creates a living space for RDDs. image::diagrams/sparkcontext-rdds.png)</p> <p>== [[creating-rdds]][[parallelize]] Creating RDD -- <code>parallelize</code> Method</p> <p>SparkContext allows you to create many different RDDs from input sources like:</p> <ul> <li>Scala's collections, i.e. <code>sc.parallelize(0 to 100)</code></li> <li>local or remote filesystems, i.e. <code>sc.textFile("README.md")</code></li> <li>Any Hadoop <code>InputSource</code> using <code>sc.newAPIHadoopFile</code></li> </ul> <p>Read rdd:index.md#creating-rdds[Creating RDDs] in rdd:index.md[RDD - Resilient Distributed Dataset].</p> <p>== [[unpersist]] Unpersisting RDD (Marking RDD as Non-Persistent) -- <code>unpersist</code> Method</p> <p>CAUTION: FIXME</p> <p><code>unpersist</code> removes an RDD from the master's storage:BlockManager.md[Block Manager] (calls <code>removeRdd(rddId: Int, blocking: Boolean)</code>) and the internal &lt;<persistentrdds, persistentrdds>&gt; mapping.</p> <p>It finally posts SparkListener.md#SparkListenerUnpersistRDD[SparkListenerUnpersistRDD] message to <code>listenerBus</code>.</p> <p>== [[setCheckpointDir]] Setting Checkpoint Directory -- <code>setCheckpointDir</code> Method</p> <h2 id=source-scala_20>[source, scala]<a class=headerlink href=#source-scala_20 title="Permanent link">&para;</a></h2> <h2 id=setcheckpointdirdirectory-string>setCheckpointDir(directory: String)<a class=headerlink href=#setcheckpointdirdirectory-string title="Permanent link">&para;</a></h2> <p><code>setCheckpointDir</code> method is used to set up the checkpoint directory...FIXME</p> <p>CAUTION: FIXME</p> <p>== [[register]] Registering Accumulator -- <code>register</code> Methods</p> <h2 id=source-scala_21>[source, scala]<a class=headerlink href=#source-scala_21 title="Permanent link">&para;</a></h2> <p>register(acc: AccumulatorV2[<em>, _]): Unit register(acc: AccumulatorV2[</em>, _], name: String): Unit</p> <hr> <p><code>register</code> registers the <code>acc</code> <a href=../accumulators/ >accumulator</a>. You can optionally give an accumulator a <code>name</code>.</p> <p>TIP: You can create built-in accumulators for longs, doubles, and collection types using &lt;<creating-accumulators, specialized methods>&gt;.</p> <p>Internally, <code>register</code> <a href=../accumulators/#register>registers <code>acc</code> accumulator</a> (with the current SparkContext).</p> <p>== [[creating-accumulators]][[longAccumulator]][[doubleAccumulator]][[collectionAccumulator]] Creating Built-In Accumulators</p> <h2 id=source-scala_22>[source, scala]<a class=headerlink href=#source-scala_22 title="Permanent link">&para;</a></h2> <p>longAccumulator: LongAccumulator longAccumulator(name: String): LongAccumulator doubleAccumulator: DoubleAccumulator doubleAccumulator(name: String): DoubleAccumulator collectionAccumulator[T]: CollectionAccumulator[T] collectionAccumulator<a href="name: String">T</a>: CollectionAccumulator[T]</p> <hr> <p>You can use <code>longAccumulator</code>, <code>doubleAccumulator</code> or <code>collectionAccumulator</code> to create and register <a href=../accumulators/ >accumulators</a> for simple and collection values.</p> <p><code>longAccumulator</code> returns <a href=../accumulators/#LongAccumulator>LongAccumulator</a> with the zero value <code>0</code>.</p> <p><code>doubleAccumulator</code> returns <a href=../accumulators/#DoubleAccumulator>DoubleAccumulator</a> with the zero value <code>0.0</code>.</p> <p><code>collectionAccumulator</code> returns <a href=../accumulators/#CollectionAccumulator>CollectionAccumulator</a> with the zero value <code>java.util.List[T]</code>.</p> <div class=highlight><pre><span></span><code>scala&gt; val acc = sc.longAccumulator
acc: org.apache.spark.util.LongAccumulator = LongAccumulator(id: 0, name: None, value: 0)

scala&gt; val counter = sc.longAccumulator(&quot;counter&quot;)
counter: org.apache.spark.util.LongAccumulator = LongAccumulator(id: 1, name: Some(counter), value: 0)

scala&gt; counter.value
res0: Long = 0

scala&gt; sc.parallelize(0 to 9).foreach(n =&gt; counter.add(n))

scala&gt; counter.value
res3: Long = 45
</code></pre></div> <p>The <code>name</code> input parameter allows you to give a name to an accumulator and have it displayed in spark-webui-StagePage.md#accumulators[Spark UI] (under Stages tab for a given stage).</p> <p><img alt="Accumulators in the Spark UI" src=../images/webui/spark-webui-accumulators.png></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>You can register custom accumulators using <a href=#register>register</a> methods.</p> </div> <p>== [[broadcast]] Creating Broadcast Variable -- broadcast Method</p> <h2 id=source-scala_23>[source, scala]<a class=headerlink href=#source-scala_23 title="Permanent link">&para;</a></h2> <p>broadcast<a href="value: T">T</a>: Broadcast[T]</p> <hr> <p>broadcast method creates a Broadcast.md[]. It is a shared memory with <code>value</code> (as broadcast blocks) on the driver and later on all Spark executors.</p> <div class=highlight><pre><span></span><code>val sc: SparkContext = ???
scala&gt; val hello = sc.broadcast(&quot;hello&quot;)
hello: org.apache.spark.broadcast.Broadcast[String] = Broadcast(0)
</code></pre></div> <p>Spark transfers the value to Spark executors <em>once</em>, and tasks can share it without incurring repetitive network transmissions when the broadcast variable is used multiple times.</p> <p><img alt="Broadcasting a value to executors" src=../images/sparkcontext-broadcast-executors.png></p> <p>Internally, broadcast requests <code>BroadcastManager</code> for a <a href=../broadcast-variables/BroadcastManager/#newBroadcast>new broadcast variable</a>.</p> <p>NOTE: The current <code>BroadcastManager</code> is available using core:SparkEnv.md#broadcastManager[<code>SparkEnv.broadcastManager</code>] attribute and is always <a href=../broadcast-variables/BroadcastManager/ >BroadcastManager</a> (with few internal configuration changes to reflect where it runs, i.e. inside the driver or executors).</p> <p>You should see the following INFO message in the logs:</p> <div class=highlight><pre><span></span><code>Created broadcast [id] from [callSite]
</code></pre></div> <p>If <code>ContextCleaner</code> is defined, the core:ContextCleaner.md#[new broadcast variable is registered for cleanup].</p> <h1 id=note_3>[NOTE]<a class=headerlink href=#note_3 title="Permanent link">&para;</a></h1> <p>Spark does not support broadcasting RDDs.</p> <h1 id=scala-scbroadcastscrange0-10-javalangillegalargumentexception-requirement-failed-can-not-directly-broadcast-rdds-instead-call-collect-and-broadcast-the-result-at-scalapredefrequirepredefscala224-at-orgapachesparksparkcontextbroadcastsparkcontextscala1392-48-elided><div class=highlight><pre><span></span><code>scala&gt; sc.broadcast(sc.range(0, 10))
java.lang.IllegalArgumentException: requirement failed: Can not directly broadcast RDDs; instead, call collect() and broadcast the result.
  at scala.Predef$.require(Predef.scala:224)
  at org.apache.spark.SparkContext.broadcast(SparkContext.scala:1392)
  ... 48 elided
</code></pre></div><a class=headerlink href=#scala-scbroadcastscrange0-10-javalangillegalargumentexception-requirement-failed-can-not-directly-broadcast-rdds-instead-call-collect-and-broadcast-the-result-at-scalapredefrequirepredefscala224-at-orgapachesparksparkcontextbroadcastsparkcontextscala1392-48-elided title="Permanent link">&para;</a></h1> <p>Once created, the broadcast variable (and other blocks) are displayed per executor and the driver in web UI.</p> <p><img alt="Broadcast Variables In web UI's Executors Tab" src=../images/spark-broadcast-webui-executors-rdd-blocks.png></p> <p>== [[jars]] Distribute JARs to workers</p> <p>The jar you specify with <code>SparkContext.addJar</code> will be copied to all the worker nodes.</p> <p>The configuration setting <code>spark.jars</code> is a comma-separated list of jar paths to be included in all tasks executed from this SparkContext. A path can either be a local file, a file in HDFS (or other Hadoop-supported filesystems), an HTTP, HTTPS or FTP URI, or <code>local:/path</code> for a file on every worker node.</p> <div class=highlight><pre><span></span><code>scala&gt; sc.addJar(&quot;build.sbt&quot;)
15/11/11 21:54:54 Added JAR build.sbt at http://192.168.1.4:49427/jars/build.sbt with timestamp 1447275294457
</code></pre></div> <p>CAUTION: FIXME Why is HttpFileServer used for addJar?</p> <p>=== SparkContext as Application-Wide Counter</p> <p>SparkContext keeps track of:</p> <p>[[nextShuffleId]] * shuffle ids using <code>nextShuffleId</code> internal counter for scheduler:ShuffleMapStage.md[registering shuffle dependencies] to shuffle:ShuffleManager.md[Shuffle Service].</p> <p>== [[stop]][[stopping]] Stopping SparkContext -- <code>stop</code> Method</p> <h2 id=source-scala_24>[source, scala]<a class=headerlink href=#source-scala_24 title="Permanent link">&para;</a></h2> <h2 id=stop-unit>stop(): Unit<a class=headerlink href=#stop-unit title="Permanent link">&para;</a></h2> <p><code>stop</code> stops the SparkContext.</p> <p>Internally, <code>stop</code> enables <code>stopped</code> internal flag. If already stopped, you should see the following INFO message in the logs:</p> <div class=highlight><pre><span></span><code>SparkContext already stopped.
</code></pre></div> <p><code>stop</code> then does the following:</p> <ol> <li>Removes <code>_shutdownHookRef</code> from <code>ShutdownHookManager</code></li> <li>&lt;<postapplicationend, posts a &lt;code>SparkListenerApplicationEnd</code>>&gt; (to &lt;<listenerbus, livelistenerbus event bus>&gt;)</li> <li>spark-webui-SparkUI.md#stop[Stops web UI]</li> <li><a href=../metrics/MetricsSystem/#report>Requests <code>MetricSystem</code> to report metrics</a> (from all registered sinks)</li> <li>core:ContextCleaner.md#stop[Stops <code>ContextCleaner</code>]</li> <li><a href=../dynamic-allocation/ExecutorAllocationManager/#stop>Requests <code>ExecutorAllocationManager</code> to stop</a></li> <li>If <code>LiveListenerBus</code> was started, scheduler:LiveListenerBus.md#stop[requests <code>LiveListenerBus</code> to stop]</li> <li>Requests spark-history-server:EventLoggingListener.md#stop[<code>EventLoggingListener</code> to stop]</li> <li>Requests scheduler:DAGScheduler.md#stop[<code>DAGScheduler</code> to stop]</li> <li>Requests rpc:index.md#stop[RpcEnv to stop <code>HeartbeatReceiver</code> endpoint]</li> <li>Requests <a href=../ConsoleProgressBar/#stop><code>ConsoleProgressBar</code> to stop</a></li> <li>Clears the reference to <code>TaskScheduler</code>, i.e. <code>_taskScheduler</code> is <code>null</code></li> <li>Requests core:SparkEnv.md#stop[<code>SparkEnv</code> to stop] and clears <code>SparkEnv</code></li> <li>Clears yarn/spark-yarn-client.md#SPARK_YARN_MODE[<code>SPARK_YARN_MODE</code> flag]</li> <li>&lt;<clearactivecontext, clears an active sparkcontext>&gt;</li> </ol> <p>Ultimately, you should see the following INFO message in the logs:</p> <div class=highlight><pre><span></span><code>Successfully stopped SparkContext
</code></pre></div> <h2 id=registering-sparklistener><span id=addSparkListener> Registering SparkListener<a class=headerlink href=#registering-sparklistener title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>addSparkListener</span><span class=p>(</span>
<span class=w>  </span><span class=n>listener</span><span class=p>:</span><span class=w> </span><span class=nc>SparkListenerInterface</span><span class=p>):</span><span class=w> </span><span class=nc>Unit</span>
</code></pre></div> <p><code>addSparkListener</code> registers a custom <a href=../SparkListenerInterface/ >SparkListenerInterface</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Custom listeners can also be registered declaratively using <a href=../configuration-properties/#spark.extraListeners>spark.extraListeners</a> configuration property.</p> </div> <p>== [[custom-schedulers]] Custom SchedulerBackend, TaskScheduler and DAGScheduler</p> <p>By default, SparkContext uses (<code>private[spark]</code> class) <code>org.apache.spark.scheduler.DAGScheduler</code>, but you can develop your own custom DAGScheduler implementation, and use (<code>private[spark]</code>) <code>SparkContext.dagScheduler_=(ds: DAGScheduler)</code> method to assign yours.</p> <p>It is also applicable to <code>SchedulerBackend</code> and <code>TaskScheduler</code> using <code>schedulerBackend_=(sb: SchedulerBackend)</code> and <code>taskScheduler_=(ts: TaskScheduler)</code> methods, respectively.</p> <p>CAUTION: FIXME Make it an advanced exercise.</p> <p>== [[events]] Events</p> <p>When a Spark context starts, it triggers SparkListener.md#SparkListenerEnvironmentUpdate[SparkListenerEnvironmentUpdate] and SparkListener.md#SparkListenerApplicationStart[SparkListenerApplicationStart] messages.</p> <p>Refer to the section &lt;<creating-instance, sparkcontext&#x27;s initialization>&gt;.</p> <p>== [[setLogLevel]][[setting-default-log-level]] Setting Default Logging Level -- <code>setLogLevel</code> Method</p> <h2 id=source-scala_25>[source, scala]<a class=headerlink href=#source-scala_25 title="Permanent link">&para;</a></h2> <h2 id=setloglevelloglevel-string>setLogLevel(logLevel: String)<a class=headerlink href=#setloglevelloglevel-string title="Permanent link">&para;</a></h2> <p><code>setLogLevel</code> allows you to set the root logging level in a Spark application, e.g. spark-shell.md[Spark shell].</p> <p>Internally, <code>setLogLevel</code> calls ++<a href=http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Level.html#toLevel(java.lang.String)++[org.apache.log4j.Level.toLevel(logLevel>http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Level.html#toLevel(java.lang.String)++[org.apache.log4j.Level.toLevel(logLevel</a>)] that it then uses to set using ++<a href=http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getRootLogger()++[org.apache.log4j.LogManager.getRootLogger().setLevel(level>http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getRootLogger()++[org.apache.log4j.LogManager.getRootLogger().setLevel(level</a>)].</p> <h1 id=tip>[TIP]<a class=headerlink href=#tip title="Permanent link">&para;</a></h1> <p>You can directly set the logging level using ++<a href=http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger()++[org.apache.log4j.LogManager.getLogger>http://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger()++[org.apache.log4j.LogManager.getLogger</a>()].</p> <h2 id=source-scala_26>[source, scala]<a class=headerlink href=#source-scala_26 title="Permanent link">&para;</a></h2> <h2 id=logmanagergetloggerorgsetlevelleveloff>LogManager.getLogger("org").setLevel(Level.OFF)<a class=headerlink href=#logmanagergetloggerorgsetlevelleveloff title="Permanent link">&para;</a></h2> <p>====</p> <p>== [[hadoopConfiguration]] Hadoop Configuration</p> <p>While a &lt;<creating-instance, sparkcontext is being created>&gt;, so is a Hadoop configuration (as an instance of <a href=https://hadoop.apache.org/docs/current/api/org/apache/hadoop/conf/Configuration.html[org.apache.hadoop.conf.Configuration>https://hadoop.apache.org/docs/current/api/org/apache/hadoop/conf/Configuration.html[org.apache.hadoop.conf.Configuration</a>] that is available as <code>_hadoopConfiguration</code>).</p> <p>NOTE: spark-SparkHadoopUtil.md#newConfiguration[SparkHadoopUtil.get.newConfiguration] is used.</p> <p>If a SparkConf is provided it is used to build the configuration as described. Otherwise, the default <code>Configuration</code> object is returned.</p> <p>If <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code> are both available, the following settings are set for the Hadoop configuration:</p> <ul> <li><code>fs.s3.awsAccessKeyId</code>, <code>fs.s3n.awsAccessKeyId</code>, <code>fs.s3a.access.key</code> are set to the value of <code>AWS_ACCESS_KEY_ID</code></li> <li><code>fs.s3.awsSecretAccessKey</code>, <code>fs.s3n.awsSecretAccessKey</code>, and <code>fs.s3a.secret.key</code> are set to the value of <code>AWS_SECRET_ACCESS_KEY</code></li> </ul> <p>Every <code>spark.hadoop.</code> setting becomes a setting of the configuration with the prefix <code>spark.hadoop.</code> removed for the key.</p> <p>The value of <code>spark.buffer.size</code> (default: <code>65536</code>) is used as the value of <code>io.file.buffer.size</code>.</p> <p>== [[listenerBus]] <code>listenerBus</code> -- <code>LiveListenerBus</code> Event Bus</p> <p><code>listenerBus</code> is a scheduler:LiveListenerBus.md[] object that acts as a mechanism to announce events to other services on the spark-driver.md[driver].</p> <p><code>LiveListenerBus</code> is created and started when <code>SparkContext</code> is created and, since it is a single-JVM event bus, is exclusively used on the driver.</p> <p>== [[startTime]] Time when SparkContext was Created -- <code>startTime</code> Property</p> <h2 id=source-scala_27>[source, scala]<a class=headerlink href=#source-scala_27 title="Permanent link">&para;</a></h2> <h2 id=starttime-long>startTime: Long<a class=headerlink href=#starttime-long title="Permanent link">&para;</a></h2> <p><code>startTime</code> is the time in milliseconds when &lt;<creating-instance, sparkcontext was created>&gt;.</p> <h2 id=source-scala_28>[source, scala]<a class=headerlink href=#source-scala_28 title="Permanent link">&para;</a></h2> <p>scala&gt; sc.startTime res0: Long = 1464425605653</p> <hr> <p>== [[cancelJobGroup]] Cancelling Job Group -- <code>cancelJobGroup</code> Method</p> <h2 id=source-scala_29>[source, scala]<a class=headerlink href=#source-scala_29 title="Permanent link">&para;</a></h2> <h2 id=canceljobgroupgroupid-string>cancelJobGroup(groupId: String)<a class=headerlink href=#canceljobgroupgroupid-string title="Permanent link">&para;</a></h2> <p><code>cancelJobGroup</code> requests <code>DAGScheduler</code> scheduler:DAGScheduler.md#cancelJobGroup[to cancel a group of active Spark jobs].</p> <p>NOTE: <code>cancelJobGroup</code> is used exclusively when <code>SparkExecuteStatementOperation</code> does <code>cancel</code>.</p> <p>== [[cancelAllJobs]] Cancelling All Running and Scheduled Jobs -- <code>cancelAllJobs</code> Method</p> <p>CAUTION: FIXME</p> <p>NOTE: <code>cancelAllJobs</code> is used when spark-shell.md[spark-shell] is terminated (e.g. using Ctrl+C, so it can in turn terminate all active Spark jobs) or <code>SparkSQLCLIDriver</code> is terminated.</p> <p>== [[cleaner]] ContextCleaner</p> <h2 id=source-scala_30>[source, scala]<a class=headerlink href=#source-scala_30 title="Permanent link">&para;</a></h2> <h2 id=cleaner-optioncontextcleaner>cleaner: Option[ContextCleaner]<a class=headerlink href=#cleaner-optioncontextcleaner title="Permanent link">&para;</a></h2> <p>SparkContext may have a core:ContextCleaner.md[ContextCleaner] defined.</p> <p><code>ContextCleaner</code> is created when <code>SparkContext</code> is created with configuration-properties.md#spark.cleaner.referenceTracking[spark.cleaner.referenceTracking] configuration property enabled.</p> <p>== [[getPreferredLocs]] Finding Preferred Locations (Placement Preferences) for RDD Partition</p> <h2 id=source-scala_31>[source, scala]<a class=headerlink href=#source-scala_31 title="Permanent link">&para;</a></h2> <p>getPreferredLocs( rdd: RDD[_], partition: Int): Seq[TaskLocation]</p> <hr> <p>getPreferredLocs simply scheduler:DAGScheduler.md#getPreferredLocs[requests <code>DAGScheduler</code> for the preferred locations for <code>partition</code>].</p> <p>NOTE: Preferred locations of a partition of a RDD are also called <em>placement preferences</em> or <em>locality preferences</em>.</p> <p>getPreferredLocs is used in CoalescedRDDPartition, DefaultPartitionCoalescer and PartitionerAwareUnionRDD.</p> <p>== [[persistRDD]] Registering RDD in persistentRdds Internal Registry -- <code>persistRDD</code> Internal Method</p> <h2 id=source-scala_32>[source, scala]<a class=headerlink href=#source-scala_32 title="Permanent link">&para;</a></h2> <h2 id=persistrddrdd-rdd_-unit>persistRDD(rdd: RDD[_]): Unit<a class=headerlink href=#persistrddrdd-rdd_-unit title="Permanent link">&para;</a></h2> <p><code>persistRDD</code> registers <code>rdd</code> in &lt;<persistentrdds, persistentrdds>&gt; internal registry.</p> <p>NOTE: <code>persistRDD</code> is used exclusively when <code>RDD</code> is rdd:index.md#persist-internal[persisted or locally checkpointed].</p> <p>== [[getRDDStorageInfo]] Getting Storage Status of Cached RDDs (as RDDInfos) -- <code>getRDDStorageInfo</code> Methods</p> <h2 id=source-scala_33>[source, scala]<a class=headerlink href=#source-scala_33 title="Permanent link">&para;</a></h2> <p>getRDDStorageInfo: Array[RDDInfo] // &lt;1&gt; getRDDStorageInfo(filter: RDD[_] =&gt; Boolean): Array[RDDInfo] // &lt;2&gt;</p> <hr> <p>&lt;1&gt; Part of Spark's Developer API that uses &lt;2&gt; filtering no RDDs</p> <p><code>getRDDStorageInfo</code> takes all the RDDs (from &lt;<persistentrdds, persistentrdds>&gt; registry) that match <code>filter</code> and creates a collection of storage:RDDInfo.md[RDDInfo] instances.</p> <p><code>getRDDStorageInfo</code>...FIXME</p> <p>In the end, <code>getRDDStorageInfo</code> gives only the RDD that are cached (i.e. the sum of memory and disk sizes as well as the number of partitions cached are greater than <code>0</code>).</p> <p><code>getRDDStorageInfo</code> is used when"</p> <ul> <li><code>RDD</code> is requested for <a href=../rdd/lineage/#toDebugString>RDD lineage graph</a></li> </ul> <p>== [[statusStore]] Accessing AppStatusStore</p> <h2 id=source-scala_34>[source, scala]<a class=headerlink href=#source-scala_34 title="Permanent link">&para;</a></h2> <h2 id=statusstore-appstatusstore>statusStore: AppStatusStore<a class=headerlink href=#statusstore-appstatusstore title="Permanent link">&para;</a></h2> <p>statusStore gives the current core:AppStatusStore.md[].</p> <p>statusStore is used when:</p> <ul> <li> <p>SparkContext is requested to &lt;<getrddstorageinfo, getrddstorageinfo>&gt;</p> </li> <li> <p><code>ConsoleProgressBar</code> is requested to <a href=../ConsoleProgressBar/#refresh>refresh</a></p> </li> <li> <p>SharedState (Spark SQL) is requested for a SQLAppStatusStore</p> </li> </ul> <p>== [[uiWebUrl]] Requesting URL of web UI -- <code>uiWebUrl</code> Method</p> <h2 id=source-scala_35>[source, scala]<a class=headerlink href=#source-scala_35 title="Permanent link">&para;</a></h2> <h2 id=uiweburl-optionstring>uiWebUrl: Option[String]<a class=headerlink href=#uiweburl-optionstring title="Permanent link">&para;</a></h2> <p><code>uiWebUrl</code> requests the <code>SparkUI</code> for <a href=../webui/WebUI/#webUrl>webUrl</a>.</p> <p>== [[maxNumConcurrentTasks]] <code>maxNumConcurrentTasks</code> Method</p> <h2 id=source-scala_36>[source, scala]<a class=headerlink href=#source-scala_36 title="Permanent link">&para;</a></h2> <h2 id=maxnumconcurrenttasks-int>maxNumConcurrentTasks(): Int<a class=headerlink href=#maxnumconcurrenttasks-int title="Permanent link">&para;</a></h2> <p><code>maxNumConcurrentTasks</code> simply requests the &lt;<schedulerbackend, schedulerbackend>&gt; for the scheduler:SchedulerBackend.md#maxNumConcurrentTasks[maximum number of tasks that can be launched concurrently].</p> <p>NOTE: <code>maxNumConcurrentTasks</code> is used exclusively when <code>DAGScheduler</code> is requested to scheduler:DAGScheduler.md#checkBarrierStageWithNumSlots[checkBarrierStageWithNumSlots].</p> <p>== [[environment-variables]] Environment Variables</p> <p>.Environment Variables [cols="1,1,2",options="header",width="100%"] |=== | Environment Variable | Default Value | Description</p> <p>| [[SPARK_EXECUTOR_MEMORY]] <code>SPARK_EXECUTOR_MEMORY</code> | <code>1024</code> | Amount of memory to allocate for a Spark executor in MB.</p> <p>See executor:Executor.md#memory[Executor Memory].</p> <table> <thead> <tr> <th>[[SPARK_USER]] <code>SPARK_USER</code></th> </tr> </thead> <tbody> <tr> <td>The user who is running SparkContext. Available later as &lt;<sparkuser, sparkuser>&gt;.</td> </tr> <tr> <td>===</td> </tr> </tbody> </table> <p>== [[addJar-internals]] <code>addJar</code> Method</p> <h2 id=source-scala_37>[source, scala]<a class=headerlink href=#source-scala_37 title="Permanent link">&para;</a></h2> <h2 id=addjarpath-string-unit>addJar(path: String): Unit<a class=headerlink href=#addjarpath-string-unit title="Permanent link">&para;</a></h2> <p><code>addJar</code>...FIXME</p> <p>NOTE: <code>addJar</code> is used when...FIXME</p> <p>== [[runApproximateJob]] Running Approximate Job</p> <h2 id=source-scala_38>[source, scala]<a class=headerlink href=#source-scala_38 title="Permanent link">&para;</a></h2> <p>runApproximateJob<a href="rdd: RDD[T],
  func: (TaskContext, Iterator[T]) => U,
  evaluator: ApproximateEvaluator[U, R],
  timeout: Long">T, U, R</a>: PartialResult[R]</p> <hr> <p>runApproximateJob...FIXME</p> <p>runApproximateJob is used when:</p> <ul> <li> <p>DoubleRDDFunctions is requested to meanApprox and sumApprox</p> </li> <li> <p>RDD is requested to countApprox and countByValueApprox</p> </li> </ul> <p>== [[killTaskAttempt]] Killing Task</p> <h2 id=source-scala_39>[source, scala]<a class=headerlink href=#source-scala_39 title="Permanent link">&para;</a></h2> <p>killTaskAttempt( taskId: Long, interruptThread: Boolean = true, reason: String = "killed via SparkContext.killTaskAttempt"): Boolean</p> <hr> <p>killTaskAttempt requests the &lt;<dagscheduler, dagscheduler>&gt; to scheduler:DAGScheduler.md#killTaskAttempt[kill a task].</p> <p>== [[checkpointFile]] checkpointFile Internal Method</p> <h2 id=source-scala_40>[source, scala]<a class=headerlink href=#source-scala_40 title="Permanent link">&para;</a></h2> <p>checkpointFile<a href="path: String">T: ClassTag</a>: RDD[T]</p> <hr> <p>checkpointFile...FIXME</p> <p>== [[logging]] Logging</p> <p>Enable <code>ALL</code> logging level for <code>org.apache.spark.SparkContext</code> logger to see what happens inside.</p> <p>Add the following line to <code>conf/log4j.properties</code>:</p> <h2 id=sourceplaintext>[source,plaintext]<a class=headerlink href=#sourceplaintext title="Permanent link">&para;</a></h2> <h2 id=log4jloggerorgapachesparksparkcontextall>log4j.logger.org.apache.spark.SparkContext=ALL<a class=headerlink href=#log4jloggerorgapachesparksparkcontextall title="Permanent link">&para;</a></h2> <p>Refer to spark-logging.md[Logging].</p> <p>== [[internal-properties]] Internal Properties</p> <p>=== [[persistentRdds]] persistentRdds Lookup Table</p> <p>Lookup table of persistent/cached RDDs per their ids.</p> <p>Used when SparkContext is requested to:</p> <ul> <li>&lt;<persistrdd, persistrdd>&gt;</li> <li>&lt;<getrddstorageinfo, getrddstorageinfo>&gt;</li> <li>&lt;<getpersistentrdds, getpersistentrdds>&gt;</li> <li>&lt;<unpersistrdd, unpersistrdd>&gt;</li> </ul> <h2 id=creating-sparkenv-for-driver><span id=createSparkEnv> Creating SparkEnv for Driver<a class=headerlink href=#creating-sparkenv-for-driver title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>createSparkEnv</span><span class=p>(</span>
<span class=w>  </span><span class=n>conf</span><span class=p>:</span><span class=w> </span><span class=nc>SparkConf</span><span class=p>,</span>
<span class=w>  </span><span class=n>isLocal</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=p>,</span>
<span class=w>  </span><span class=n>listenerBus</span><span class=p>:</span><span class=w> </span><span class=nc>LiveListenerBus</span><span class=p>):</span><span class=w> </span><span class=nc>SparkEnv</span>
</code></pre></div> <p><code>createSparkEnv</code> uses the <code>SparkEnv</code> utility to <a href=../SparkEnv/#createDriverEnv>create a SparkEnv for the driver</a> (with the arguments and <a href=#numDriverCores>numDriverCores</a>).</p> <h3 id=numdrivercores><span id=numDriverCores> numDriverCores<a class=headerlink href=#numdrivercores title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>numDriverCores</span><span class=p>(</span>
<span class=w>  </span><span class=n>master</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>,</span>
<span class=w>  </span><span class=n>conf</span><span class=p>:</span><span class=w> </span><span class=nc>SparkConf</span><span class=p>):</span><span class=w> </span><span class=nc>Int</span>
</code></pre></div> <p><code>numDriverCores</code>...FIXME</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 Jacek Laskowski </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/jaceklaskowski target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/jaceklaskowski target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/in/jaceklaskowski target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://jaceklaskowski.medium.com target=_blank rel=noopener title=jaceklaskowski.medium.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262Zm288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg> </a> <a href=https://fosstodon.org/@jaceklaskowski target=_blank rel="noopener me" title=fosstodon.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.6c7302c4.min.js", "tags": {"DeveloperApi": "developerapi"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.8192e063.min.js></script> </body> </html>